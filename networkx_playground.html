<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetworkX ì‹œê°í™” ì—°ìŠµì¥</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js"></script>
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .code-block { border-radius: 0.5rem; overflow: hidden; position: relative; }
        .output-img { max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 0.5rem; }
        .editor-container { 
            border: 1px solid #ddd; 
            border-radius: 0.5rem; 
            overflow: hidden;
            height: 300px;
            position: relative;
        }
        .editor-buttons {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 100;
        }
        #codeEditor {
            width: 100%;
            height: 100%;
            padding: 15px;
            font-family: monospace;
            background-color: #282c34;
            color: #abb2bf;
            border: none;
            outline: none;
            resize: none;
        }
        .output-container {
            position: relative;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #0D6EFD;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            display: none;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        /* New styles for copy button and collapsible code */
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(13, 110, 253, 0.2);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 12px;
            cursor: pointer;
            transition: background-color 0.2s;
            z-index: 10;
        }
        .copy-btn:hover {
            background-color: rgba(13, 110, 253, 0.4);
        }
        .code-container {
            display: none;
            margin-top: 10px;
        }
        .code-title {
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }
        .code-title::after {
            content: "â–¼";
            font-size: 12px;
            transition: transform 0.3s;
        }
        .code-title.active::after {
            content: "â–²";
        }
        .copy-success {
            position: absolute;
            top: 10px;
            right: 70px;
            background-color: rgba(25, 135, 84, 0.9);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            display: none;
            z-index: 10;
        }
    </style>
</head>
<body class="bg-[#E7F1FF] text-[#343A40]">
    <div class="max-w-5xl mx-auto p-4 md:p-8">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-[#0A58CA] mb-3">ğŸ”Œ NetworkX ì‹œê°í™” ì—°ìŠµì¥</h1>
            <p class="text-lg text-[#6C757D]">íŒŒì´ì¬ NetworkX ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë„¤íŠ¸ì›Œí¬ ì‹œê°í™” ê¸°ë²• ìµíˆê¸°</p>
        </header>

        <section class="mb-12 bg-white rounded-xl shadow-lg p-6 md:p-8">
            <h2 class="text-2xl font-bold text-[#0D6EFD] mb-4">ì½”ë“œ í¸ì§‘ ë° ì‹¤í–‰</h2>
            <p class="mb-4">ì•„ë˜ ì½”ë“œ ì—ë””í„°ì—ì„œ NetworkX ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì‹¤í–‰ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë¡œì»¬ì—ì„œ ì½”ë“œê°€ ì‹¤í–‰ë˜ì–´ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
            
            <div class="editor-container mb-4">
                <textarea id="codeEditor" spellcheck="false">
# ê¸°ë³¸ ê·¸ë˜í”„ ìƒì„±í•˜ê¸°
G = nx.Graph()  # ë¬´ë°©í–¥ ê·¸ë˜í”„

# ë…¸ë“œ ì¶”ê°€
G.add_nodes_from([1, 2, 3, 4, 5])

# ì—£ì§€ ì¶”ê°€
G.add_edges_from([(1, 2), (1, 3), (2, 3), (2, 4), (3, 5), (4, 5)])

# ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
plt.figure(figsize=(8, 6))
nx.draw(G, with_labels=True, node_color='skyblue', node_size=800, font_size=15)
plt.title("ê¸°ë³¸ NetworkX ê·¸ë˜í”„")
</textarea>
                <div class="editor-buttons">
                    <button id="runButton" class="bg-[#20C997] text-white font-semibold px-6 py-2 rounded-lg hover:bg-[#17a277] transition-colors">
                        ì½”ë“œ ì‹¤í–‰
                    </button>
                </div>
            </div>
            
            <div class="output-container p-4 bg-[#F8F9FA] rounded-lg border border-[#CED4DA]">
                <div id="outputLoader" class="loader"></div>
                <div id="outputError" class="hidden text-red-500 text-center w-full"></div>
                <img id="outputImage" class="output-img hidden" alt="ì½”ë“œ ì‹¤í–‰ ê²°ê³¼">
                <p id="noOutputText" class="text-center text-[#6C757D]">ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì—¬ê¸°ì— ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section class="mb-12 bg-white rounded-xl shadow-lg p-6 md:p-8">
            <h2 class="text-2xl font-bold text-[#0D6EFD] mb-4">ì˜ˆì œ ì½”ë“œ ëª¨ìŒ</h2>
            <p class="mb-4">ì•„ë˜ ì˜ˆì œ ì½”ë“œ ì œëª©ì„ í´ë¦­í•˜ë©´ ì½”ë“œê°€ í‘œì‹œë©ë‹ˆë‹¤. ì½”ë“œë¥¼ ì—ë””í„°ì— ë³µì‚¬í•˜ë ¤ë©´ "ì—ë””í„°ì— ë³µì‚¬" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</p>
            
            <div class="grid md:grid-cols-2 gap-4">
                <div class="p-4 bg-[#F8F9FA] rounded-lg border border-[#CED4DA]">
                    <h3 class="text-lg font-semibold text-[#0A58CA] mb-2 code-title" data-target="basicExample">ê¸°ë³¸ ê·¸ë˜í”„</h3>
                    <div id="basicExample" class="code-container">
                        <div class="code-block">
                            <button class="copy-btn" data-code="basicExample">ë³µì‚¬</button>
                            <span class="copy-success">ë³µì‚¬ë¨!</span>
                            <pre><code class="language-python">
# ê¸°ë³¸ ê·¸ë˜í”„ ìƒì„±í•˜ê¸°
G = nx.Graph()  # ë¬´ë°©í–¥ ê·¸ë˜í”„

# ë…¸ë“œ ì¶”ê°€
G.add_nodes_from([1, 2, 3, 4, 5])

# ì—£ì§€ ì¶”ê°€
G.add_edges_from([(1, 2), (1, 3), (2, 3), (2, 4), (3, 5), (4, 5)])

# ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
plt.figure(figsize=(8, 6))
nx.draw(G, with_labels=True, node_color='skyblue', node_size=800, font_size=15)
plt.title("ê¸°ë³¸ NetworkX ê·¸ë˜í”„")
                            </code></pre>
                            <button class="w-full mt-2 bg-[#0D6EFD] text-white py-2 px-4 rounded-md hover:bg-[#0b5ed7] transition-colors" onclick="copyCodeToEditor('basicExample')">ì—ë””í„°ì— ë³µì‚¬</button>
                        </div>
                    </div>
                </div>

                <div class="p-4 bg-[#F8F9FA] rounded-lg border border-[#CED4DA]">
                    <h3 class="text-lg font-semibold text-[#0A58CA] mb-2 code-title" data-target="koreanExample">í•œê¸€ í…ìŠ¤íŠ¸ ê·¸ë˜í”„</h3>
                    <div id="koreanExample" class="code-container">
                        <div class="code-block">
                            <button class="copy-btn" data-code="koreanExample">ë³µì‚¬</button>
                            <span class="copy-success">ë³µì‚¬ë¨!</span>
                            <pre><code class="language-python">
# í•œê¸€ ë…¸ë“œ ë¼ë²¨ì´ ìˆëŠ” ê·¸ë˜í”„ ìƒì„±
G = nx.Graph()

# í•œê¸€ ë…¸ë“œ ì¶”ê°€
nodes = ["ì„œìš¸", "ë¶€ì‚°", "ì¸ì²œ", "ëŒ€êµ¬", "ê´‘ì£¼", "ëŒ€ì „", "ìš¸ì‚°"]
G.add_nodes_from(nodes)

# ì—£ì§€ ì¶”ê°€
edges = [
    ("ì„œìš¸", "ì¸ì²œ", 30), ("ì„œìš¸", "ëŒ€ì „", 140), 
    ("ëŒ€ì „", "ëŒ€êµ¬", 120), ("ëŒ€ì „", "ê´‘ì£¼", 170),
    ("ëŒ€êµ¬", "ìš¸ì‚°", 70), ("ëŒ€êµ¬", "ë¶€ì‚°", 80),
    ("ê´‘ì£¼", "ë¶€ì‚°", 190)
]
G.add_weighted_edges_from(edges)

# ì—£ì§€ ë‘ê»˜ ì„¤ì •
weights = [G[u][v]['weight']/30 for u, v in G.edges()]

plt.figure(figsize=(10, 8))
pos = nx.spring_layout(G, seed=42)  # ë…¸ë“œ ìœ„ì¹˜ ì„¤ì •

# ë…¸ë“œ ê·¸ë¦¬ê¸°
nx.draw_networkx_nodes(
    G, pos,
    node_color='lightblue',
    node_size=1000,
    alpha=0.8
)

# ì—£ì§€ ê·¸ë¦¬ê¸°
nx.draw_networkx_edges(
    G, pos,
    width=weights,
    alpha=0.7,
    edge_color='gray'
)

# ë¼ë²¨ ê·¸ë¦¬ê¸°
nx.draw_networkx_labels(
    G, pos,
    font_size=14,
    font_weight='bold'
)

# ì—£ì§€ ë¼ë²¨ ê·¸ë¦¬ê¸° (ê±°ë¦¬ km)
edge_labels = {(u, v): f"{d['weight']}km" for u, v, d in G.edges(data=True)}
nx.draw_networkx_edge_labels(G, pos, edge_labels=edge_labels, font_size=10)

plt.title("í•œêµ­ ì£¼ìš” ë„ì‹œê°„ ê±°ë¦¬ ë„¤íŠ¸ì›Œí¬")
plt.axis('off')  # ì¶• ì œê±°
                            </code></pre>
                            <button class="w-full mt-2 bg-[#0D6EFD] text-white py-2 px-4 rounded-md hover:bg-[#0b5ed7] transition-colors" onclick="copyCodeToEditor('koreanExample')">ì—ë””í„°ì— ë³µì‚¬</button>
                        </div>
                    </div>
                </div>

                <div class="p-4 bg-[#F8F9FA] rounded-lg border border-[#CED4DA]">
                    <h3 class="text-lg font-semibold text-[#0A58CA] mb-2 code-title" data-target="weightedExample">ê°€ì¤‘ì¹˜ ì—£ì§€</h3>
                    <div id="weightedExample" class="code-container">
                        <div class="code-block">
                            <button class="copy-btn" data-code="weightedExample">ë³µì‚¬</button>
                            <span class="copy-success">ë³µì‚¬ë¨!</span>
                            <pre><code class="language-python">
# ê°€ì¤‘ì¹˜ê°€ ìˆëŠ” ê·¸ë˜í”„ ìƒì„±
G = nx.Graph()
weighted_edges = [
    (1, 2, 2.0), (1, 3, 0.5), (2, 3, 1.0),
    (2, 4, 3.0), (3, 5, 1.5), (4, 5, 2.5)
]
# (ì‹œì‘ë…¸ë“œ, ëë…¸ë“œ, ê°€ì¤‘ì¹˜) í˜•íƒœë¡œ ì¶”ê°€
G.add_weighted_edges_from(weighted_edges)

# ì—£ì§€ ë‘ê»˜ë¥¼ ê°€ì¤‘ì¹˜ì— ë”°ë¼ ì„¤ì •
weights = [G[u][v]['weight'] for u, v in G.edges()]
# ì‹œê°ì ìœ¼ë¡œ ë” ë¶„ëª…í•˜ê²Œ í•˜ê¸° ìœ„í•´ ê°€ì¤‘ì¹˜ì— 3ì„ ê³±í•¨
edge_widths = [w * 3 for w in weights]

plt.figure(figsize=(10, 8))
pos = nx.spring_layout(G, seed=42)  # ë…¸ë“œ ìœ„ì¹˜ ì„¤ì •
nx.draw(
    G, pos, with_labels=True,
    node_color='lightblue', node_size=800,
    font_size=15, font_weight='bold',
    width=edge_widths,  # ê° ì—£ì§€ì˜ ë‘ê»˜ ì§€ì •
    edge_color='gray'
)

# ê°€ì¤‘ì¹˜ í…ìŠ¤íŠ¸ ì¶”ê°€
edge_labels = {(u, v): f"{d['weight']:.1f}" for u, v, d in G.edges(data=True)}
nx.draw_networkx_edge_labels(G, pos, edge_labels=edge_labels, font_size=12)

plt.title("ì—£ì§€ ë‘ê»˜ê°€ ê°€ì¤‘ì¹˜ì— ë¹„ë¡€í•˜ëŠ” ê·¸ë˜í”„")
                            </code></pre>
                            <button class="w-full mt-2 bg-[#0D6EFD] text-white py-2 px-4 rounded-md hover:bg-[#0b5ed7] transition-colors" onclick="copyCodeToEditor('weightedExample')">ì—ë””í„°ì— ë³µì‚¬</button>
                        </div>
                    </div>
                </div>

                <div class="p-4 bg-[#F8F9FA] rounded-lg border border-[#CED4DA]">
                    <h3 class="text-lg font-semibold text-[#0A58CA] mb-2 code-title" data-target="centralityExample">ì¤‘ì‹¬ì„± ì‹œê°í™”</h3>
                    <div id="centralityExample" class="code-container">
                        <div class="code-block">
                            <button class="copy-btn" data-code="centralityExample">ë³µì‚¬</button>
                            <span class="copy-success">ë³µì‚¬ë¨!</span>
                            <pre><code class="language-python">
# ì¹´ë¼í…Œ í´ëŸ½ ë°ì´í„°ì…‹ ë¶ˆëŸ¬ì˜¤ê¸°
G = nx.karate_club_graph()

# ë…¸ë“œì˜ ì—°ê²° ì¤‘ì‹¬ì„±(Degree Centrality) ê³„ì‚°
degree_centrality = nx.degree_centrality(G)

# ë…¸ë“œ í¬ê¸°ë¥¼ ì—°ê²° ì¤‘ì‹¬ì„±ì— ë¹„ë¡€í•˜ê²Œ ì„¤ì •
node_size = [v * 5000 for v in degree_centrality.values()]

# ë…¸ë“œ ìƒ‰ìƒì„ ì¤‘ì‹¬ì„±ì— ë”°ë¼ ì—´ì§€ë„(heatmap) í˜•íƒœë¡œ ì§€ì •
cmap = plt.cm.viridis  # ìƒ‰ìƒ ë§µ
node_color = list(degree_centrality.values())

plt.figure(figsize=(12, 10))
pos = nx.spring_layout(G, seed=42)

# ì—£ì§€ ê·¸ë¦¬ê¸°
nx.draw_networkx_edges(G, pos, alpha=0.3)

# ë…¸ë“œ ê·¸ë¦¬ê¸° (í¬ê¸°ì™€ ìƒ‰ìƒì„ ì¤‘ì‹¬ì„±ì— ë”°ë¼ ë‹¤ë¥´ê²Œ)
nodes = nx.draw_networkx_nodes(
    G, pos,
    node_size=node_size,
    node_color=node_color,
    cmap=cmap,
    alpha=0.8
)

# ë¼ë²¨ ê·¸ë¦¬ê¸°
nx.draw_networkx_labels(G, pos, font_size=10, font_weight='bold')

# ì»¬ëŸ¬ë°” ì¶”ê°€
plt.colorbar(nodes, label='ì—°ê²° ì¤‘ì‹¬ì„±')

plt.title("ì¤‘ì‹¬ì„±ì— ë”°ë¥¸ ë…¸ë“œ ìƒ‰ìƒ ë³€í™”")
plt.axis('off')  # ì¶• ì œê±°
                            </code></pre>
                            <button class="w-full mt-2 bg-[#0D6EFD] text-white py-2 px-4 rounded-md hover:bg-[#0b5ed7] transition-colors" onclick="copyCodeToEditor('centralityExample')">ì—ë””í„°ì— ë³µì‚¬</button>
                        </div>
                    </div>
                </div>

                <div class="p-4 bg-[#F8F9FA] rounded-lg border border-[#CED4DA]">
                    <h3 class="text-lg font-semibold text-[#0A58CA] mb-2 code-title" data-target="communityExample">ì»¤ë®¤ë‹ˆí‹° íƒì§€</h3>
                    <div id="communityExample" class="code-container">
                        <div class="code-block">
                            <button class="copy-btn" data-code="communityExample">ë³µì‚¬</button>
                            <span class="copy-success">ë³µì‚¬ë¨!</span>
                            <pre><code class="language-python">
# ì„ì˜ì˜ ê·¸ë˜í”„ ìƒì„± (Erdos-Renyi ëª¨ë¸)
G = nx.gnm_random_graph(20, 40, seed=42)

# ë…¸ë“œ ê°„ ê°€ì¤‘ì¹˜ ì¶”ê°€ (ì„ì˜ ê°€ì¤‘ì¹˜)
for u, v in G.edges():
    G[u][v]['weight'] = np.random.uniform(0.5, 3.0)

# ì»¤ë®¤ë‹ˆí‹° íƒì§€ - ê·¸ë¦¬ë”” ëª¨ë“ˆì„± ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©
communities = list(nx.community.greedy_modularity_communities(G))
partition = {}
for i, comm in enumerate(communities):
    for node in comm:
        partition[node] = i

# ì»¤ë®¤ë‹ˆí‹°ë³„ ìƒ‰ìƒ ì§€ì •
num_communities = len(set(partition.values()))
colors = plt.cm.tab10(np.linspace(0, 1, num_communities))
node_colors = [colors[partition[node]] for node in G.nodes()]

# ì—£ì§€ ë‘ê»˜ ì„¤ì •
edge_weights = [G[u][v]['weight'] for u, v in G.edges()]
edge_widths = [w * 1.5 for w in edge_weights]

# ë§¤ê°œ ì¤‘ì‹¬ì„± ê³„ì‚°
bc = nx.betweenness_centrality(G, weight='weight')

# ë…¸ë“œ í¬ê¸°ë¥¼ ë§¤ê°œ ì¤‘ì‹¬ì„±ì— ë¹„ë¡€í•˜ê²Œ ì„¤ì •
node_size = [v * 3000 + 300 for v in bc.values()]

plt.figure(figsize=(12, 10))
pos = nx.spring_layout(G, seed=42, weight='weight')

# ì—£ì§€ ê·¸ë¦¬ê¸°
nx.draw_networkx_edges(
    G, pos,
    width=edge_widths,
    alpha=0.7,
    edge_color='gray'
)

# ë…¸ë“œ ê·¸ë¦¬ê¸°
nx.draw_networkx_nodes(
    G, pos,
    node_size=node_size,
    node_color=node_colors,
    alpha=0.9
)

# ë¼ë²¨ ê·¸ë¦¬ê¸°
nx.draw_networkx_labels(G, pos, font_size=10, font_weight='bold')

plt.title("ì»¤ë®¤ë‹ˆí‹° íƒì§€ ë° ê°€ì¤‘ì¹˜ ì‹œê°í™”")
plt.axis('off')  # ì¶• ì œê±°
                            </code></pre>
                            <button class="w-full mt-2 bg-[#0D6EFD] text-white py-2 px-4 rounded-md hover:bg-[#0b5ed7] transition-colors" onclick="copyCodeToEditor('communityExample')">ì—ë””í„°ì— ë³µì‚¬</button>
                        </div>
                    </div>
                </div>
                
                <div class="p-4 bg-[#F8F9FA] rounded-lg border border-[#CED4DA]">
                    <h3 class="text-lg font-semibold text-[#0A58CA] mb-2 code-title" data-target="economicNetworkExample">ê²½ì œ ë„¤íŠ¸ì›Œí¬ ì˜ˆì œ</h3>
                    <div id="economicNetworkExample" class="code-container">
                        <div class="code-block">
                            <button class="copy-btn" data-code="economicNetworkExample">ë³µì‚¬</button>
                            <span class="copy-success">ë³µì‚¬ë¨!</span>
                            <pre><code class="language-python">
# í•œêµ­ ì‚°ì—… ë¶€ë¬¸ê°„ ë„¤íŠ¸ì›Œí¬ ì‹œê°í™”
G = nx.DiGraph()  # ë°©í–¥ ê·¸ë˜í”„ ìƒì„±

# ì‚°ì—… ë¶€ë¬¸ (ë…¸ë“œ) ì¶”ê°€
sectors = [
    "ì œì¡°ì—…", "ì •ë³´í†µì‹ ", "ê¸ˆìœµ", "ìœ í†µ", 
    "ê±´ì„¤", "ì—ë„ˆì§€", "ë†ì—…", "ìš´ì†¡"
]
G.add_nodes_from(sectors)

# ì‚°ì—… ë¶€ë¬¸ê°„ ê±°ë˜ ê´€ê³„ (ì—£ì§€) ì¶”ê°€ (ë¶€ë¬¸1, ë¶€ë¬¸2, ê±°ë˜ê·œëª¨)
relations = [
    ("ì œì¡°ì—…", "ìœ í†µ", 100), ("ì œì¡°ì—…", "ê±´ì„¤", 80),
    ("ì •ë³´í†µì‹ ", "ê¸ˆìœµ", 60), ("ì •ë³´í†µì‹ ", "ì œì¡°ì—…", 85),
    ("ê¸ˆìœµ", "ì œì¡°ì—…", 90), ("ê¸ˆìœµ", "ê±´ì„¤", 70),
    ("ê¸ˆìœµ", "ìœ í†µ", 55), ("ê¸ˆìœµ", "ì •ë³´í†µì‹ ", 45),
    ("ìœ í†µ", "ì†Œë¹„ì", 110), ("ê±´ì„¤", "ì—ë„ˆì§€", 40),
    ("ì—ë„ˆì§€", "ì œì¡°ì—…", 95), ("ì—ë„ˆì§€", "ìš´ì†¡", 50),
    ("ë†ì—…", "ìœ í†µ", 75), ("ë†ì—…", "ì œì¡°ì—…", 30),
    ("ìš´ì†¡", "ìœ í†µ", 65), ("ìš´ì†¡", "ë†ì—…", 25)
]

# ì—£ì§€ ì¶”ê°€ (ê±°ë˜ê·œëª¨ë¥¼ ê°€ì¤‘ì¹˜ë¡œ ì„¤ì •)
for source, target, weight in relations:
    if target not in G:  # "ì†Œë¹„ì"ì™€ ê°™ì´ ëª…ì‹œì ìœ¼ë¡œ ì¶”ê°€í•˜ì§€ ì•Šì€ ë…¸ë“œ ì²˜ë¦¬
        G.add_node(target)
    G.add_edge(source, target, weight=weight)

# ë…¸ë“œ í¬ê¸°ë¥¼ ì—°ê²° ì¤‘ì‹¬ì„±ì— ë¹„ë¡€í•˜ê²Œ ì„¤ì •
degree = dict(G.degree(weight='weight'))
node_size = [degree.get(node, 0) * 5 for node in G.nodes()]

# ë…¸ë“œ ìƒ‰ìƒ ì„¤ì •
sector_colors = {
    "ì œì¡°ì—…": "lightblue", "ì •ë³´í†µì‹ ": "lightgreen", 
    "ê¸ˆìœµ": "gold", "ìœ í†µ": "coral",
    "ê±´ì„¤": "tan", "ì—ë„ˆì§€": "tomato", 
    "ë†ì—…": "mediumseagreen", "ìš´ì†¡": "plum",
    "ì†Œë¹„ì": "silver"  # ì¶”ê°€ ë…¸ë“œ
}
node_colors = [sector_colors.get(node, "lightgray") for node in G.nodes()]

plt.figure(figsize=(12, 10))
pos = nx.spring_layout(G, seed=42, k=0.3)  # këŠ” ë…¸ë“œ ê°„ ê±°ë¦¬

# ì—£ì§€ ê·¸ë¦¬ê¸°
edge_weights = [G[u][v]['weight']/25 for u, v in G.edges()]
nx.draw_networkx_edges(
    G, pos,
    width=edge_weights,
    alpha=0.6,
    edge_color='gray',
    connectionstyle='arc3,rad=0.1',  # ê³¡ì„  í™”ì‚´í‘œ
    arrowsize=15
)

# ë…¸ë“œ ê·¸ë¦¬ê¸°
nx.draw_networkx_nodes(
    G, pos,
    node_size=node_size,
    node_color=node_colors,
    alpha=0.9
)

# ë¼ë²¨ ê·¸ë¦¬ê¸°
nx.draw_networkx_labels(G, pos, font_size=12, font_weight='bold')

# ì—£ì§€ ë¼ë²¨ ê·¸ë¦¬ê¸°
edge_labels = {(u, v): f"{d['weight']}ì¡°" for u, v, d in G.edges(data=True)}
nx.draw_networkx_edge_labels(
    G, pos, 
    edge_labels=edge_labels,
    font_size=8,
    label_pos=0.3  # ë¼ë²¨ ìœ„ì¹˜ ì¡°ì •
)

plt.title("í•œêµ­ ì‚°ì—… ë¶€ë¬¸ê°„ ê±°ë˜ ë„¤íŠ¸ì›Œí¬ (ë‹¨ìœ„: ì¡°ì›)")
plt.axis('off')
                            </code></pre>
                            <button class="w-full mt-2 bg-[#0D6EFD] text-white py-2 px-4 rounded-md hover:bg-[#0b5ed7] transition-colors" onclick="copyCodeToEditor('economicNetworkExample')">ì—ë””í„°ì— ë³µì‚¬</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center pt-8 pb-4">
            <p class="text-sm text-[#6C757D]">Copyright &copy; <span id="currentYear"></span> NetworkX ì‹œê°í™” ì—°ìŠµì¥. ê²½ì œí•™ë„ í•™ìŠµìë£Œ.</p>
            <script>document.getElementById('currentYear').textContent = new Date().getFullYear();</script>
        </footer>
    </div>

    <script>
        // ì½”ë“œ í•˜ì´ë¼ì´íŒ… ì ìš©
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);
            });
            
            // ì‹¤í–‰ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            document.getElementById('runButton').addEventListener('click', runCode);
            
            // ì½”ë“œ ì œëª© í´ë¦­ ì´ë²¤íŠ¸ ì„¤ì •
            document.querySelectorAll('.code-title').forEach(title => {
                title.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    const container = document.getElementById(targetId);
                    
                    // ëª¨ë“  ì»¨í…Œì´ë„ˆ ë‹«ê¸°
                    document.querySelectorAll('.code-container').forEach(cont => {
                        if (cont !== container) {
                            cont.style.display = 'none';
                        }
                    });
                    
                    // ëª¨ë“  íƒ€ì´í‹€ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
                    document.querySelectorAll('.code-title').forEach(t => {
                        if (t !== this) {
                            t.classList.remove('active');
                        }
                    });
                    
                    // í† ê¸€ í˜„ì¬ ì»¨í…Œì´ë„ˆ
                    if (container.style.display === 'block') {
                        container.style.display = 'none';
                        this.classList.remove('active');
                    } else {
                        container.style.display = 'block';
                        this.classList.add('active');
                    }
                });
            });
            
            // ë³µì‚¬ ë²„íŠ¼ ì´ë²¤íŠ¸ ì„¤ì •
            document.querySelectorAll('.copy-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation(); // ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë°©ì§€
                    
                    const codeId = this.getAttribute('data-code');
                    const codeElement = document.querySelector(`#${codeId} code`);
                    const successMsg = this.nextElementSibling;
                    
                    navigator.clipboard.writeText(codeElement.textContent.trim())
                        .then(() => {
                            // ë³µì‚¬ ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                            successMsg.style.display = 'block';
                            setTimeout(() => {
                                successMsg.style.display = 'none';
                            }, 2000);
                        })
                        .catch(err => {
                            console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', err);
                        });
                });
            });
            
            // ì²« ë²ˆì§¸ ì½”ë“œ ì˜ˆì œ ìë™ìœ¼ë¡œ ì—´ê¸°
            const firstCodeTitle = document.querySelector('.code-title');
            if (firstCodeTitle) {
                firstCodeTitle.click();
            }
        });
        
        // ì˜ˆì œ ì½”ë“œë¥¼ ì—ë””í„°ì— ë³µì‚¬í•˜ëŠ” í•¨ìˆ˜
        function copyCodeToEditor(codeBlockId) {
            const code = document.querySelector(`#${codeBlockId} code`).textContent;
            document.getElementById('codeEditor').value = code.trim();
            
            // ìŠ¤í¬ë¡¤ì„ ì—ë””í„° ì„¹ì…˜ìœ¼ë¡œ ì´ë™
            const editorSection = document.querySelector('.editor-container');
            editorSection.scrollIntoView({ behavior: 'smooth' });
        }
        
        // ì½”ë“œ ì‹¤í–‰ í•¨ìˆ˜
        async function runCode() {
            // UI ì—…ë°ì´íŠ¸
            const outputImage = document.getElementById('outputImage');
            const outputLoader = document.getElementById('outputLoader');
            const outputError = document.getElementById('outputError');
            const noOutputText = document.getElementById('noOutputText');
            
            outputImage.classList.add('hidden');
            outputError.classList.add('hidden');
            noOutputText.classList.add('hidden');
            outputLoader.style.display = 'block';
            
            // ì½”ë“œ ì¶”ì¶œ
            const code = document.getElementById('codeEditor').value;
            
            try {
                // FormData ìƒì„±
                const formData = new FormData();
                formData.append('code', code);
                
                // API í˜¸ì¶œ
                const response = await fetch('/run-code', {
                    method: 'POST',
                    body: formData
                });
                
                // ê²°ê³¼ ì²˜ë¦¬
                if (response.ok) {
                    const result = await response.json();
                    
                    // ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ ë° í‘œì‹œ
                    outputImage.src = result.image_path + '?t=' + new Date().getTime(); // ìºì‹œ ë°©ì§€
                    outputImage.onload = function() {
                        outputLoader.style.display = 'none';
                        outputImage.classList.remove('hidden');
                    };
                } else {
                    // ì—ëŸ¬ ì²˜ë¦¬
                    const errorData = await response.json();
                    outputLoader.style.display = 'none';
                    outputError.textContent = 'ì˜¤ë¥˜: ' + errorData.detail;
                    outputError.classList.remove('hidden');
                }
            } catch (error) {
                // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ë“± ì˜ˆì™¸ ì²˜ë¦¬
                outputLoader.style.display = 'none';
                outputError.textContent = 'ì˜¤ë¥˜: ' + error.message;
                outputError.classList.remove('hidden');
            }
        }
    </script>
</body>
</html> 