<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetworkX 시각화 연습장</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/vs2015.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
    <style>
        body { 
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #0f172a;
            color: #f8fafc;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        .code-block {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
        }
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            transform: translateY(-1px);
        }
        .alert-info {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 8px;
        }
        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 8px;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Header -->
    <header class="gradient-bg py-6 px-4 border-b border-gray-700">
        <div class="max-w-6xl mx-auto">
            <div class="flex items-center justify-between">
                <h1 class="text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-teal-400">
                    🔬 NetworkX 시각화 연습장
                </h1>
                <a href="index.html" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg transition-colors">
                    🏠 홈으로
                </a>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 py-8">
        <!-- Important Notice -->
        <div class="alert-warning p-4 mb-8">
            <div class="flex items-start space-x-3">
                <span class="text-2xl">⚠️</span>
                <div>
                    <h3 class="text-lg font-semibold text-amber-300 mb-2">GitHub Pages 버전 안내</h3>
                    <p class="text-amber-100 mb-3">
                        현재 GitHub Pages에서는 <strong>정적 파일만 제공</strong>되므로, Python 코드 실행 기능이 제한됩니다.
                        대신 미리 생성된 예제들과 코드를 확인하실 수 있습니다.
                    </p>
                    <div class="bg-amber-900/30 p-3 rounded border-l-4 border-amber-500">
                        <p class="text-sm">
                            <strong>💡 전체 기능을 사용하려면:</strong><br>
                            • 로컬에서 <code>uvicorn main:app --reload</code> 실행<br>
                            • 또는 <a href="https://colab.research.google.com/" class="text-blue-400 hover:text-blue-300 underline" target="_blank">Google Colab</a>에서 코드 실행
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Code Examples Section -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 text-center">📊 NetworkX 코드 예제 모음</h2>
            
            <!-- Example 1: Basic Graph -->
            <div class="card-hover code-block p-6 mb-6">
                <h3 class="text-xl font-semibold mb-4 text-blue-400">1. 기본 그래프 생성</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <pre class="bg-gray-800 p-4 rounded overflow-x-auto"><code class="language-python"># 기본 그래프 생성하기
import networkx as nx
import matplotlib.pyplot as plt

G = nx.Graph()  # 무방향 그래프

# 노드 추가
G.add_nodes_from([1, 2, 3, 4, 5])

# 엣지 추가
edges = [(1, 2), (1, 3), (2, 3), (2, 4), (3, 5), (4, 5)]
G.add_edges_from(edges)

# 그래프 그리기
plt.figure(figsize=(8, 6))
nx.draw(G, with_labels=True, 
        node_color='skyblue', 
        node_size=800, 
        font_size=15)
plt.title("기본 NetworkX 그래프")
plt.show()</code></pre>
                        <button onclick="copyToClipboard('basic-graph')" class="btn-primary px-4 py-2 rounded mt-3 text-sm">
                            📋 코드 복사
                        </button>
                    </div>
                    <div class="flex items-center justify-center">
                        <img src="my_first_plot.png" alt="기본 그래프 예제" class="max-w-full h-auto rounded border border-gray-600">
                    </div>
                </div>
            </div>

            <!-- Example 2: Karate Club -->
            <div class="card-hover code-block p-6 mb-6">
                <h3 class="text-xl font-semibold mb-4 text-green-400">2. Karate Club 그래프 - 중심성 분석</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <pre class="bg-gray-800 p-4 rounded overflow-x-auto"><code class="language-python"># Karate Club 데이터와 중심성 분석
import networkx as nx
import matplotlib.pyplot as plt

# Karate Club 그래프 로드
G = nx.karate_club_graph()

# 중심성 계산
centrality = nx.betweenness_centrality(G)
node_size = [v * 3000 for v in centrality.values()]

# 최단 경로 계산 (노드 0에서 33까지)
path = nx.shortest_path(G, source=0, target=33)

# 그래프 그리기
plt.figure(figsize=(12, 8))
pos = nx.spring_layout(G, seed=42)

# 모든 엣지 그리기
nx.draw_networkx_edges(G, pos, alpha=0.4, edge_color='gray')

# 최단 경로 엣지 강조
path_edges = list(zip(path, path[1:]))
nx.draw_networkx_edges(G, pos, edgelist=path_edges, 
                      edge_color='red', width=3)

# 노드 그리기 (크기는 중심성에 비례)
nx.draw_networkx_nodes(G, pos, 
                      node_size=node_size,
                      node_color='lightblue',
                      alpha=0.8)

# 경로상의 노드 강조
nx.draw_networkx_nodes(G, pos, nodelist=path,
                      node_color='red', 
                      node_size=[centrality[n]*3000 for n in path])

# 라벨 추가
nx.draw_networkx_labels(G, pos, font_size=8)

plt.title("Karate Club: 중심성 분석 및 최단경로")
plt.axis('off')
plt.show()</code></pre>
                        <button onclick="copyToClipboard('karate-club')" class="btn-primary px-4 py-2 rounded mt-3 text-sm">
                            📋 코드 복사
                        </button>
                    </div>
                    <div class="flex items-center justify-center">
                        <img src="karate_club_centrality_path.png" alt="Karate Club 중심성 분석" class="max-w-full h-auto rounded border border-gray-600">
                    </div>
                </div>
            </div>

            <!-- Example 3: Economic Network -->
            <div class="card-hover code-block p-6 mb-6">
                <h3 class="text-xl font-semibold mb-4 text-purple-400">3. 경제 네트워크 - 가중치 그래프</h3>
                <div>
                    <pre class="bg-gray-800 p-4 rounded overflow-x-auto"><code class="language-python"># 한국 산업 부문간 거래 네트워크 시각화
import networkx as nx
import matplotlib.pyplot as plt

# 가중치가 있는 방향 그래프 생성
G = nx.DiGraph()

# 산업 부문별 노드 추가
sectors = ["제조업", "정보통신", "금융", "유통", "건설", "에너지", "농업", "운송"]
G.add_nodes_from(sectors)

# 가중치 엣지 추가 (단위: 조원)
weighted_edges = [
    ("제조업", "유통", 45), ("제조업", "운송", 23), ("제조업", "에너지", 18),
    ("정보통신", "금융", 34), ("정보통신", "유통", 28), ("정보통신", "제조업", 15),
    ("금융", "제조업", 52), ("금융", "유통", 38), ("금융", "건설", 27),
    ("유통", "제조업", 41), ("유통", "농업", 19), ("유통", "운송", 33),
    ("건설", "제조업", 29), ("건설", "에너지", 16), ("건설", "금융", 22),
    ("에너지", "제조업", 35), ("에너지", "운송", 14), ("에너지", "건설", 21),
    ("농업", "제조업", 12), ("농업", "유통", 31), ("농업", "운송", 8),
    ("운송", "제조업", 26), ("운송", "유통", 42), ("운송", "에너지", 17)
]

G.add_weighted_edges_from(weighted_edges)

# 노드 크기를 연결 중심성에 비례하게 설정
degree = dict(G.degree(weight='weight'))
node_size = [degree.get(node, 0) * 5 for node in G.nodes()]

# 노드 색상 설정
sector_colors = {
    "제조업": "lightblue", "정보통신": "lightgreen", 
    "금융": "gold", "유통": "coral",
    "건설": "tan", "에너지": "tomato", 
    "농업": "mediumseagreen", "운송": "plum"
}
node_colors = [sector_colors.get(node, "lightgray") for node in G.nodes()]

plt.figure(figsize=(14, 10))
pos = nx.spring_layout(G, seed=42, k=0.3)

# 엣지 그리기 (가중치에 따른 두께)
edge_weights = [G[u][v]['weight']/20 for u, v in G.edges()]
nx.draw_networkx_edges(G, pos, width=edge_weights, alpha=0.6, 
                      edge_color='gray', arrowsize=20)

# 노드 그리기
nx.draw_networkx_nodes(G, pos, node_size=node_size,
                      node_color=node_colors, alpha=0.9)

# 라벨 그리기
nx.draw_networkx_labels(G, pos, font_size=11, font_weight='bold')

# 엣지 라벨 그리기 (가중치 표시)
edge_labels = {(u, v): f"{d['weight']}조" for u, v, d in G.edges(data=True)}
nx.draw_networkx_edge_labels(G, pos, edge_labels=edge_labels, 
                            font_size=8, label_pos=0.3)

plt.title("한국 산업 부문간 거래 네트워크 (단위: 조원)", fontsize=16, pad=20)
plt.axis('off')
plt.tight_layout()
plt.show()

# 네트워크 통계 출력
print(f"노드 수: {G.number_of_nodes()}")
print(f"엣지 수: {G.number_of_edges()}")
print(f"평균 가중 차수: {sum(dict(G.degree(weight='weight')).values())/G.number_of_nodes():.1f}")
</code></pre>
                    <button onclick="copyToClipboard('economic-network')" class="btn-primary px-4 py-2 rounded mt-3 text-sm">
                        📋 코드 복사
                    </button>
                </div>
            </div>

            <!-- Example 4: Community Detection -->
            <div class="card-hover code-block p-6 mb-6">
                <h3 class="text-xl font-semibold mb-4 text-yellow-400">4. 커뮤니티 탐지</h3>
                <div>
                    <pre class="bg-gray-800 p-4 rounded overflow-x-auto"><code class="language-python"># 커뮤니티 탐지 알고리즘
import networkx as nx
import matplotlib.pyplot as plt
from networkx.algorithms import community

# 더 복잡한 그래프 생성
G = nx.karate_club_graph()

# Louvain 알고리즘으로 커뮤니티 탐지
communities = community.louvain_communities(G, seed=42)

# 각 노드에 커뮤니티 ID 할당
node_community = {}
for i, comm in enumerate(communities):
    for node in comm:
        node_community[node] = i

# 커뮤니티별 색상 설정
colors = ['red', 'blue', 'green', 'orange', 'purple', 'brown', 'pink', 'gray']
node_colors = [colors[node_community[node]] for node in G.nodes()]

# 그래프 그리기
plt.figure(figsize=(12, 8))
pos = nx.spring_layout(G, seed=42)

# 커뮤니티별로 노드 그리기
for i, comm in enumerate(communities):
    nx.draw_networkx_nodes(G, pos, nodelist=list(comm),
                          node_color=colors[i], 
                          node_size=300, alpha=0.8,
                          label=f'Community {i+1}')

# 엣지 그리기
nx.draw_networkx_edges(G, pos, alpha=0.5, edge_color='gray')

# 라벨 추가
nx.draw_networkx_labels(G, pos, font_size=10)

plt.title("Karate Club 그래프: 커뮤니티 탐지 결과")
plt.legend()
plt.axis('off')
plt.show()

# 커뮤니티 정보 출력
print(f"발견된 커뮤니티 수: {len(communities)}")
for i, comm in enumerate(communities):
    print(f"커뮤니티 {i+1}: {list(comm)} (크기: {len(comm)})")
</code></pre>
                    <button onclick="copyToClipboard('community-detection')" class="btn-primary px-4 py-2 rounded mt-3 text-sm">
                        📋 코드 복사
                    </button>
                </div>
            </div>
        </section>

        <!-- Instructions Section -->
        <section class="alert-info p-6">
            <h3 class="text-xl font-semibold mb-4 text-blue-300">💻 코드 실행 방법</h3>
            <div class="space-y-4">
                <div>
                    <h4 class="font-semibold text-blue-200">로컬 환경에서 실행:</h4>
                    <ol class="list-decimal list-inside text-blue-100 ml-4 space-y-1">
                        <li>Python과 필요한 라이브러리 설치: <code class="bg-gray-700 px-2 py-1 rounded">pip install networkx matplotlib</code></li>
                        <li>위의 코드를 복사하여 Python 파일로 저장</li>
                        <li>터미널에서 실행: <code class="bg-gray-700 px-2 py-1 rounded">python your_file.py</code></li>
                    </ol>
                </div>
                <div>
                    <h4 class="font-semibold text-blue-200">Google Colab에서 실행:</h4>
                    <ol class="list-decimal list-inside text-blue-100 ml-4 space-y-1">
                        <li><a href="https://colab.research.google.com/" class="text-blue-400 hover:text-blue-300 underline" target="_blank">Google Colab</a> 접속</li>
                        <li>새 노트북 생성</li>
                        <li>코드를 셀에 붙여넣고 실행 (Shift + Enter)</li>
                    </ol>
                </div>
                <div>
                    <h4 class="font-semibold text-blue-200">로컬 서버 실행 (전체 기능):</h4>
                    <ol class="list-decimal list-inside text-blue-100 ml-4 space-y-1">
                        <li>프로젝트 클론: <code class="bg-gray-700 px-2 py-1 rounded">git clone https://github.com/cschung7/ai-finance.git</code></li>
                        <li>의존성 설치: <code class="bg-gray-700 px-2 py-1 rounded">pip install -r requirements.txt</code></li>
                        <li>서버 실행: <code class="bg-gray-700 px-2 py-1 rounded">uvicorn main:app --reload</code></li>
                        <li>브라우저에서 <code class="bg-gray-700 px-2 py-1 rounded">http://localhost:8000</code> 접속</li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center pt-8 pb-4">
            <p class="text-sm text-gray-400">
                Copyright &copy; <span id="currentYear"></span> NetworkX 시각화 연습장. 경제학도 학습자료.
            </p>
        </footer>
    </main>

    <script>
        // 현재 년도 설정
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        
        // 코드 하이라이팅 적용
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);
            });
        });
        
        // 클립보드 복사 함수
        function copyToClipboard(elementId) {
            const codeElement = event.target.previousElementSibling.querySelector('code');
            const code = codeElement.textContent;
            
            navigator.clipboard.writeText(code.trim()).then(() => {
                // 복사 성공 피드백
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = '✅ 복사됨!';
                button.classList.add('bg-green-600');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('bg-green-600');
                }, 2000);
            }).catch(err => {
                console.error('클립보드 복사 실패:', err);
                alert('클립보드 복사에 실패했습니다. 수동으로 복사해주세요.');
            });
        }
        
        // 페이지 로드 애니메이션
        anime({
            targets: '.card-hover',
            translateY: [30, 0],
            opacity: [0, 1],
            delay: anime.stagger(100),
            easing: 'easeOutQuad',
            duration: 600
        });
    </script>
</body>
</html> 