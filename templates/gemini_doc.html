<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>네트워크 기초 개념 인포그래픽 (OpenAI 지원)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Visualization & Content Choices:
    - Network Definition (Node, Link): Goal: Inform. Viz: Structured HTML/CSS cards with Unicode icons. Method: HTML/CSS. NO SVG/Mermaid.
    - Network Effects: Goal: Inform/Compare. Viz: Donut Chart (Chart.js). Library: Chart.js (Canvas). NO SVG/Mermaid.
    - Metcalfe's Law: Goal: Compare. Viz: Bar Chart (Chart.js). Library: Chart.js (Canvas). NO SVG/Mermaid.
    - Network Structures (Centralized vs. Decentralized): Goal: Organize/Compare. Viz: HTML/CSS diagram. Method: HTML/CSS. NO SVG/Mermaid.
    - Small-World Phenomenon: Goal: Inform. Viz: Conceptual HTML/CSS diagram. Method: HTML/CSS. NO SVG/Mermaid.
    - Internet's Economic Impact: Goal: Inform. Viz: Series of cards with Unicode icons. Method: HTML/CSS. NO SVG/Mermaid.
    - Challenges: Goal: Inform. Viz: Series of cards with Unicode icons. Method: HTML/CSS. NO SVG/Mermaid.
    - OpenAI Term Explainer: Goal: Enhance Understanding. Interaction: User input, API call. Viz: Modal. Library: JS Fetch API.
    - OpenAI Challenge Mitigation: Goal: Explore Solutions. Interaction: Button click, API call. Viz: Modal. Library: JS Fetch API.
-->
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 500px; margin-left: auto; margin-right: auto; height: 300px; max-height: 350px; }
        @media (min-width: 768px) { .chart-container { height: 350px; max-height: 400px;} }
        .diagram-box { border: 2px solid #CED4DA; padding: 1rem; border-radius: 0.5rem; text-align: center; }
        .node-icon { font-size: 1.5rem; margin: 0.25rem; display: inline-block; }
        .link-line { border-top: 2px dashed #6C757D; margin: 0.5rem auto; }
        .modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5); }
        .modal-content { background-color: #fefefe; margin: 10% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 600px; border-radius: 0.5rem; position: relative; }
        .modal-close-button { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; position: absolute; top: 10px; right: 20px; }
        .modal-close-button:hover, .modal-close-button:focus { color: black; text-decoration: none; }
        .loader { border: 5px solid #f3f3f3; border-top: 5px solid #0D6EFD; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body class="bg-[#E7F1FF] text-[#343A40]">
    <div class="max-w-5xl mx-auto p-4 md:p-8">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-[#0A58CA] mb-3">🔗 경제학도를 위한 네트워크 핵심 탐구</h1>
            <p class="text-lg text-[#6C757D]">네트워크의 기본 개념부터 경제적 영향까지, 한눈에 살펴보세요.</p>
        </header>

        <section id="openai-term-explainer" class="mb-12 bg-white rounded-xl shadow-lg p-6 md:p-8">
            <h2 class="text-2xl font-bold text-[#0D6EFD] mb-4 text-center">✨ 네트워크 용어, AI에게 쉽게 물어보세요!</h2>
            <p class="text-center text-[#6C757D] mb-4">궁금한 네트워크 용어를 입력하고 설명을 요청해보세요. 경제학도 눈높이에 맞춰 AI가 설명해줍니다.</p>
            <div class="flex flex-col sm:flex-row gap-2 items-center max-w-lg mx-auto">
                <input type="text" id="termInput" placeholder="예: 노드, 네트워크 효과, 매개 중심성" class="flex-grow p-3 border border-[#CED4DA] rounded-lg focus:ring-2 focus:ring-[#0D6EFD] focus:border-transparent outline-none w-full sm:w-auto">
                <button id="explainTermButton" class="bg-[#20C997] text-white font-semibold px-6 py-3 rounded-lg hover:bg-[#17a277] transition-colors w-full sm:w-auto">AI 설명 요청</button>
            </div>
            <div class="mt-4 text-center">
                <button id="manageApiKey" class="text-sm text-[#0D6EFD] hover:underline">API 키 관리</button>
                <span id="apiKeyStatus" class="text-sm ml-2 text-[#6C757D]"></span>
            </div>
        </section>

        <section id="intro" class="mb-12">
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold text-[#0D6EFD] mb-6 text-center">1. 네트워크란 무엇일까요? 🤔</h2>
                <p class="text-lg text-[#343A40] mb-4 leading-relaxed">현대 사회에서 '네트워크'는 기술, 사회, 경제 등 다양한 분야에서 핵심적인 역할을 합니다. 간단히 말해, 네트워크는 여러 개의 <strong class="text-[#0A58CA]">점(노드)</strong>들이 <strong class="text-[#0A58CA]">선(링크)</strong>으로 연결되어 상호작용하는 시스템입니다. 경제학에서는 시장 구조, 기업 관계, 금융 시스템, 국제 무역 등 다양한 현상을 이해하는 데 중요한 틀을 제공합니다.</p>
                <div class="grid md:grid-cols-2 gap-6 mt-8">
                    <div class="bg-[#F8F9FA] p-6 rounded-lg border border-[#CED4DA]">
                        <h3 class="text-2xl font-semibold text-[#0D6EFD] mb-3 flex items-center"><span class="node-icon mr-2">●</span>노드 (Node)</h3>
                        <p class="text-[#343A40]">네트워크를 구성하는 개별 점 또는 행위자입니다. <br><strong>예:</strong> 개인, 기업, 국가, 금융기관</p>
                    </div>
                    <div class="bg-[#F8F9FA] p-6 rounded-lg border border-[#CED4DA]">
                        <h3 class="text-2xl font-semibold text-[#0D6EFD] mb-3 flex items-center"><span class="node-icon mr-2">↔️</span>링크 (Link / Edge)</h3>
                        <p class="text-[#343A40]">노드 간의 연결 관계나 상호작용을 나타내는 선입니다. <br><strong>예:</strong> 기업 협력, 친구 관계, 무역 협정</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="characteristics" class="mb-12">
            <h2 class="text-3xl font-bold text-[#0D6EFD] mb-8 text-center">2. 네트워크의 강력한 힘: 주요 특징 🚀</h2>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-2xl font-semibold text-[#0A58CA] mb-4 flex items-center"><span class="node-icon mr-2">📈</span>가. 네트워크 효과 (Network Effects)</h3>
                    <p class="text-[#343A40] mb-4">제품/서비스 가치가 사용자 수에 따라 증가하는 현상입니다. 사용자가 많을수록 더 많은 사용자를 유치하는 선순환이 일어납니다.</p>
                    <ul class="list-disc list-inside text-[#343A40] mb-4 pl-4 space-y-1">
                        <li><strong>직접적 효과:</strong> 사용자 증가가 서비스 자체 가치를 높임 (예: SNS, 메신저)</li>
                        <li><strong>간접적 효과:</strong> 사용자 증가가 보완재 가치를 높여 원래 서비스 가치도 상승 (예: OS와 앱)</li>
                    </ul>
                    <div class="chart-container h-[250px] md:h-[300px]">
                        <canvas id="networkEffectsChart"></canvas>
                    </div>
                    <p class="text-sm text-[#6C757D] mt-2 text-center">사용자 수에 따른 개념적 가치 변화</p>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-2xl font-semibold text-[#0A58CA] mb-4 flex items-center"><span class="node-icon mr-2">🔢</span>나. 메트칼프의 법칙 (Metcalfe's Law)</h3>
                    <p class="text-[#343A40] mb-4">네트워크 가치는 사용자 수(N)의 제곱(N²)에 비례합니다. 즉, 사용자가 2배 늘면 가치는 4배가 될 수 있음을 의미하며, 네트워크 규모의 중요성을 강조합니다.</p>
                    <div class="chart-container h-[280px] md:h-[330px]">
                        <canvas id="metcalfeLawChart"></canvas>
                    </div>
                     <p class="text-sm text-[#6C757D] mt-2 text-center">사용자 수(N)와 네트워크 가치(N²) 비교</p>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 mt-8">
                <h3 class="text-2xl font-semibold text-[#0A58CA] mb-6 text-center flex items-center justify-center"><span class="node-icon mr-2">🏛️</span>다. 네트워크 구조: 중앙 집중형 vs. 분산형</h3>
                <p class="text-[#343A40] mb-6 text-center">네트워크 구조는 정보 확산, 시스템 안정성, 권력 분배에 영향을 미칩니다.</p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="diagram-box bg-[#F8F9FA]">
                        <h4 class="text-xl font-medium text-[#0D6EFD] mb-3">🎯 중앙 집중형 (Centralized)</h4>
                        <div class="my-4">
                            <span class="node-icon text-3xl text-[#0D6EFD]">👑</span>
                            <div class="flex justify-center items-center my-2">
                                <div class="w-1 h-8 bg-[#6C757D] transform rotate-45 translate-x-1"></div>
                                <div class="w-1 h-8 bg-[#6C757D] transform -rotate-45 -translate-x-1"></div>
                            </div>
                            <div class="flex justify-around">
                                <span class="node-icon">👤</span><span class="node-icon">👤</span><span class="node-icon">👤</span>
                            </div>
                        </div>
                        <p class="text-sm text-[#343A40]">하나의 중심 노드(허브)가 정보를 통제합니다. <br><strong>장점:</strong> 효율적 통제. <br><strong>단점:</strong> 중심 마비 시 전체 위험. <br><strong>예:</strong> 전통적 은행 시스템.</p>
                    </div>
                    <div class="diagram-box bg-[#F8F9FA]">
                        <h4 class="text-xl font-medium text-[#20C997] mb-3">🌐 분산형 (Decentralized)</h4>
                         <div class="my-4">
                            <div class="flex justify-around mb-2">
                                <span class="node-icon text-[#20C997]">🔗</span><span class="node-icon text-[#20C997]">🔗</span><span class="node-icon text-[#20C997]">🔗</span>
                            </div>
                            <div class="link-line w-1/2"></div>
                             <div class="flex justify-around mt-2">
                                <span class="node-icon text-[#20C997]">🔗</span><span class="node-icon text-[#20C997]">🔗</span>
                            </div>
                        </div>
                        <p class="text-sm text-[#343A40]">여러 노드가 동등하게 연결되거나 다수의 중심이 존재합니다. <br><strong>장점:</strong> 안정성 높음. <br><strong>단점:</strong> 통제 어려움. <br><strong>예:</strong> 인터넷, 블록체인.</p>
                    </div>
                </div>
                
                <div class="mt-6">
                    <button id="expandNetworkStructure" class="w-full py-3 px-4 bg-[#E7F1FF] text-[#0D6EFD] font-medium rounded-lg hover:bg-[#D0E3FF] transition-colors flex items-center justify-center">
                        <span id="networkExpandButtonText">경제에서의 네트워크 구조 유형 자세히 보기</span>
                        <span id="networkExpandIcon" class="ml-2">▼</span>
                    </button>
                    
                    <div id="networkStructureContent" class="mt-4 bg-[#F8F9FA] border border-[#CED4DA] rounded-lg p-6 hidden">
                        <h4 class="text-xl font-semibold text-[#0A58CA] mb-4">경제 분야의 네트워크 구조 유형</h4>
                        
                        <div class="mb-6">
                            <h5 class="text-lg font-medium text-[#0D6EFD] mb-3">계층적 네트워크 경제 사례</h5>
                            
                            <div class="mb-3">
                                <h6 class="font-medium text-[#343A40]">기업 구조</h6>
                                <ul class="list-disc list-inside space-y-1 text-[#343A40] ml-2">
                                    <li><strong>전통적 기업</strong>: CEO(최상위) → C레벨 임원 → 부문별 책임자 → 부서 관리자 → 일반 직원. 정보와 의사결정이 주로 상하위계통으로 흐름</li>
                                    <li><strong>프랜차이즈 시스템</strong>: 모기업(맥도날드) → 지역 관리자 → 개별 가맹점주 → 매장 직원</li>
                                </ul>
                            </div>
                            
                            <div class="mb-3">
                                <h6 class="font-medium text-[#343A40]">금융 시스템</h6>
                                <ul class="list-disc list-inside space-y-1 text-[#343A40] ml-2">
                                    <li><strong>중앙은행 체계</strong>: 중앙은행 → 지역 중앙은행 → 상업은행 → 지역 지점 → 개인 고객</li>
                                    <li><strong>투자은행</strong>: 글로벌 투자은행 → 지역 사무소 → 섹터별 팀 → 개별 애널리스트</li>
                                </ul>
                            </div>
                            
                            <div class="mb-3">
                                <h6 class="font-medium text-[#343A40]">공급망</h6>
                                <ul class="list-disc list-inside space-y-1 text-[#343A40] ml-2">
                                    <li><strong>자동차 산업</strong>: OEM(도요타) → 1차 공급업체(주요 부품 제조사) → 2차 공급업체(서브 부품 제조사) → 3차 공급업체(원자재)</li>
                                    <li><strong>소매 유통</strong>: 제조업체 → 전국 유통업체 → 지역 도매상 → 지역 소매점 → 소비자</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <h5 class="text-lg font-medium text-[#20C997] mb-3">병렬 네트워크 경제 사례</h5>
                            
                            <div class="mb-3">
                                <h6 class="font-medium text-[#343A40]">금융 시장</h6>
                                <ul class="list-disc list-inside space-y-1 text-[#343A40] ml-2">
                                    <li><strong>주식 거래소</strong>: 여러 거래소(NYSE, NASDAQ, 지역 거래소)가 동시에 운영되며 동일한 거래량을 두고 경쟁</li>
                                    <li><strong>결제 시스템</strong>: Visa, Mastercard, American Express 및 디지털 결제 플랫폼이 모두 병렬로 거래 처리</li>
                                </ul>
                            </div>
                            
                            <div class="mb-3">
                                <h6 class="font-medium text-[#343A40]">공유 경제</h6>
                                <ul class="list-disc list-inside space-y-1 text-[#343A40] ml-2">
                                    <li><strong>라이드셰어링</strong>: Uber, Lyft 및 지역 경쟁업체들이 동일한 시장에서 운전자와 승객의 병렬 네트워크 운영</li>
                                    <li><strong>음식 배달</strong>: 배달의민족, 요기요, 쿠팡이츠가 음식점, 배달원, 고객의 경쟁적 병렬 네트워크 운영</li>
                                </ul>
                            </div>
                            
                            <div class="mb-3">
                                <h6 class="font-medium text-[#343A40]">기술 플랫폼</h6>
                                <ul class="list-disc list-inside space-y-1 text-[#343A40] ml-2">
                                    <li><strong>클라우드 컴퓨팅</strong>: AWS, Microsoft Azure, Google Cloud가 병렬 인프라 서비스 제공</li>
                                    <li><strong>전자상거래</strong>: 쿠팡, 네이버쇼핑, 11번가가 구매자와 판매자를 위한 병렬 마켓플레이스 형성</li>
                                </ul>
                            </div>
                            
                            <div class="mb-3">
                                <h6 class="font-medium text-[#343A40]">에너지 시장</h6>
                                <ul class="list-disc list-inside space-y-1 text-[#343A40] ml-2">
                                    <li><strong>전력망</strong>: 여러 발전회사가 동시에 동일한 그리드 시스템에 전력 공급</li>
                                    <li><strong>석유 유통</strong>: 병렬 파이프라인 네트워크와 해운 루트를 통한 석유 제품 이동</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-white rounded-lg border border-[#CED4DA]">
                            <h5 class="text-lg font-medium text-[#0A58CA] mb-2">주요 차이점</h5>
                            <p class="text-[#343A40]"><strong>계층적 네트워크</strong>는 통제, 조정, 명확한 권한 구조에 최적화되어 있지만 느리고 병목 현상을 일으킬 수 있습니다. <strong>병렬 네트워크</strong>는 중복성, 경쟁, 회복력을 제공하지만 자원의 비효율적 중복과 조정 문제를 야기할 수 있습니다.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 mt-8">
                 <h3 class="text-2xl font-semibold text-[#0A58CA] mb-4 text-center flex items-center justify-center"><span class="node-icon mr-2">🏛️🤝</span>라. 스몰월드 현상 (Small-World Phenomenon)</h3>
                <p class="text-[#343A40] mb-6 text-center">"세상은 좁다!" 임의의 두 노드가 생각보다 적은 단계를 거쳐 연결될 수 있다는 특성입니다. (예: 여섯 다리 이론)</p>
                <div class="diagram-box bg-[#F8F9FA] p-6">
                    <div class="flex justify-around items-center h-32">
                        <span class="node-icon text-xl">🧑‍A</span>
                        <span class="text-[#6C757D]">---</span>
                        <span class="node-icon text-xl">🧑‍B</span>
                        <span class="text-[#6C757D]">---</span>
                        <span class="node-icon text-xl">🧑‍C</span>
                        <span class="text-[#6C757D]">---</span>
                        <span class="node-icon text-xl">🧑‍D</span>
                    </div>
                    <p class="text-sm text-[#343A40] mt-2">경제학적으로 정보의 빠른 전파, 유행 확산, 금융 위기 전염 등을 설명하는 데 유용합니다.</p>
                </div>
                
                <div class="mt-4">
                    <button id="expandSmallWorld" class="w-full py-3 px-4 bg-[#E7F1FF] text-[#0D6EFD] font-medium rounded-lg hover:bg-[#D0E3FF] transition-colors flex items-center justify-center">
                        <span id="expandButtonText">경제/금융에서의 작은 세계 현상 자세히 보기</span>
                        <span id="expandIcon" class="ml-2">▼</span>
                    </button>
                    
                    <div id="smallWorldContent" class="mt-4 bg-[#F8F9FA] border border-[#CED4DA] rounded-lg p-6 hidden">
                        <h4 class="text-xl font-semibold text-[#0A58CA] mb-4">네트워크의 작은 세계 현상과 경제/금융의 연관성</h4>
                        
                        <div class="mb-4">
                            <h5 class="text-lg font-medium text-[#0D6EFD] mb-2">금융시장 네트워크</h5>
                            <ul class="list-disc list-inside space-y-1 text-[#343A40]">
                                <li>금융시장은 대부분의 참가자들이 2-3단계의 연결로 서로 도달할 수 있는 작은 세계 구조를 보임</li>
                                <li>은행간 대출 네트워크에서 각 은행은 소수의 은행과만 직접 연결되지만, 중간 매개를 통해 대부분의 다른 은행에 도달 가능</li>
                                <li>이러한 구조는 전염 효과와 시스템 리스크를 증가시킴 (2008년 금융위기 때 리먼브라더스 파산이 전 세계로 빠르게 확산된 사례)</li>
                            </ul>
                        </div>
                        
                        <div class="mb-4">
                            <h5 class="text-lg font-medium text-[#0D6EFD] mb-2">경제 분야 적용</h5>
                            <ul class="list-disc list-inside space-y-1 text-[#343A40]">
                                <li><strong>무역 네트워크</strong>: 국가들은 제한된 수의 직접 무역 파트너를 가지지만, 짧은 중간 경로를 통해 글로벌 시장에 접근</li>
                                <li><strong>공급망</strong>: 기업들은 직접적인 공급업체/고객들과 높은 군집성을 보이면서도, 적은 중간 단계로 먼 공급망에 접근 가능</li>
                            </ul>
                        </div>
                        
                        <div class="mb-4">
                            <h5 class="text-lg font-medium text-[#0D6EFD] mb-2">금융에서의 네트워크 효과</h5>
                            <ul class="list-disc list-inside space-y-1 text-[#343A40]">
                                <li><strong>정보 전달</strong>: 시장 소문이나 경제 뉴스가 네트워크를 통해 빠르게 확산되어 시장 동조화와 군집 행동을 설명</li>
                                <li><strong>유동성</strong>: 시장 조성자들과 중개자들이 구매자와 판매자 간의 짧은 경로를 만들어 효율적인 유동성 분배를 가능하게 함</li>
                            </ul>
                        </div>
                        
                        <p class="text-[#0A58CA] font-medium">결론: 작은 세계 네트워크 특성은 현대 금융 및 경제 시스템의 효율성과 시스템 리스크를 동시에 설명하는 중요한 개념입니다.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="internet-impact" class="mb-12">
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold text-[#0D6EFD] mb-6 text-center">3. 네트워크 경제학: 금융과 경제의 새로운 패러다임 📊</h2>
                <p class="text-lg text-[#343A40] mb-6 text-center leading-relaxed">네트워크 이론은 현대 경제학과 금융 연구에 혁신적인 분석 프레임워크를 제공하여 시장, 기업, 금융기관의 새로운 행동 패턴을 설명합니다.</p>
                
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="bg-[#F8F9FA] p-6 rounded-lg border border-[#CED4DA]">
                        <h3 class="text-xl font-semibold text-[#0A58CA] mb-4 flex items-center">
                            <span class="mr-2 text-2xl">🔄</span>네트워크 외부성과 가치 창출
                        </h3>
                        <p class="text-[#343A40] mb-3">네트워크 외부성(Network Externality)은 상품이나 서비스의 가치가 다른 사용자들의 네트워크 규모에 의존하는 현상입니다.</p>
                        <ul class="list-disc list-inside text-[#343A40] space-y-2 ml-2">
                            <li><strong>양의 외부성</strong>: 카카오톡이나 인스타그램과 같은 플랫폼은 사용자가 많을수록 각 사용자에게 더 큰 효용 제공</li>
                            <li><strong>양면 시장</strong>: 신용카드 시장에서 가맹점이 많을수록 소비자 유치가 용이하고, 소비자가 많을수록 가맹점 확보가 용이한 선순환 구조</li>
                            <li><strong>잠금 효과</strong>: 네트워크 이점으로 인해 사용자가 다른 서비스로 전환하기 어려워지는 현상 (OS 시장의 Windows, 검색 엔진 시장의 Google)</li>
                        </ul>
                    </div>
                    
                    <div class="bg-[#F8F9FA] p-6 rounded-lg border border-[#CED4DA]">
                        <h3 class="text-xl font-semibold text-[#0A58CA] mb-4 flex items-center">
                            <span class="mr-2 text-2xl">🏛️</span>금융 네트워크와 시스템 리스크
                        </h3>
                        <p class="text-[#343A40] mb-3">금융기관 간 복잡한 네트워크 연결이 시스템 위험을 증폭시킬 수 있습니다.</p>
                        <ul class="list-disc list-inside text-[#343A40] space-y-2 ml-2">
                            <li><strong>전염 효과</strong>: 2008년 리먼브라더스 파산이 전 세계 금융 네트워크로 급속히 전파된 현상</li>
                            <li><strong>중심성과 취약성</strong>: 네트워크 중심에 위치한 핵심 금융기관(예: JP Morgan)의 실패는 시스템 전체에 치명적 영향</li>
                            <li><strong>금융 규제 설계</strong>: 네트워크 이론을 통해 시스템적으로 중요한 금융기관(SIFI)들에 대한 차별화된 규제 가능</li>
                        </ul>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-[#F8F9FA] p-6 rounded-lg border border-[#CED4DA]">
                        <h3 class="text-xl font-semibold text-[#0A58CA] mb-4 flex items-center">
                            <span class="mr-2 text-2xl">🏢</span>플랫폼 경제학
                        </h3>
                        <p class="text-[#343A40] mb-3">다양한 사용자 그룹 간 상호작용을 촉진하는 플랫폼 비즈니스 모델이 경제 구조를 재편하고 있습니다.</p>
                        <ul class="list-disc list-inside text-[#343A40] space-y-2 ml-2">
                            <li><strong>중개자 역할</strong>: 아마존, 쿠팡 등의 플랫폼은 판매자와 구매자의 거래 비용 감소</li>
                            <li><strong>승자독식 경향</strong>: 네트워크 효과로 인해 시장 지배적 플랫폼 등장 (Google 검색, Amazon 전자상거래)</li>
                            <li><strong>다중허브모델</strong>: 사용자들이 여러 플랫폼을 동시에 이용하는 멀티호밍(Multi-homing) 현상으로 경쟁 균형 가능</li>
                        </ul>
                    </div>
                    
                    <div class="bg-[#F8F9FA] p-6 rounded-lg border border-[#CED4DA]">
                        <h3 class="text-xl font-semibold text-[#0A58CA] mb-4 flex items-center">
                            <span class="mr-2 text-2xl">📈</span>네트워크 기반 시장 분석
                        </h3>
                        <p class="text-[#343A40] mb-3">네트워크 분석은 기존 경제 모델로는 설명하기 어려운 시장 구조와 현상을 이해하는 도구입니다.</p>
                        <ul class="list-disc list-inside text-[#343A40] space-y-2 ml-2">
                            <li><strong>노동 시장</strong>: 구직자-기업 간 약한 연결(Weak ties)이 취업 기회 증가에 중요한 역할</li>
                            <li><strong>국제 무역</strong>: 국가 간 무역 네트워크의 위상학적 구조가 무역 패턴과 경제 성장에 영향</li>
                            <li><strong>혁신 확산</strong>: 기업 간 네트워크 구조에 따른 기술 확산 속도와 패턴 분석 가능</li>
                        </ul>
                    </div>
                </div>
                
                <div class="mt-8 p-4 bg-[#E7F1FF] rounded-lg border border-[#0D6EFD]">
                    <p class="text-[#0A58CA] font-medium text-center">네트워크 경제학은 디지털 전환 시대에 경제 및 금융 현상을 이해하기 위한 필수적인 분석 도구입니다. 기존의 신고전파 경제학으로는 설명하기 어려운 복잡한 시장 역학을 네트워크 관점에서 설명할 수 있습니다.</p>
                </div>
            </div>
        </section>

        <section id="challenges" class="mb-12">
             <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold text-[#0D6EFD] mb-6 text-center">4. AI 시대: 초연결 네트워크의 미래 🤖</h2>
                <p class="text-lg text-[#343A40] mb-6 text-center leading-relaxed">인공지능과 네트워크 기술의 결합은 경제와 사회 전반에 혁신적인 변화를 가져오고 있습니다.</p>
                
                <div class="grid md:grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                    <div class="bg-[#F8F9FA] p-6 rounded-lg border border-[#CED4DA]">
                        <h4 class="text-xl font-semibold text-[#0A58CA] mb-4 flex items-center">
                            <span class="mr-2 text-2xl">🤖</span>초연결 AI 시대의 도래
                        </h4>
                        <p class="text-[#343A40] mb-4">자율 이동체와 로봇이 네트워크로 연결되어 새로운 경제 생태계를 형성합니다.</p>
                        <ul class="list-disc list-inside text-[#343A40] space-y-2 ml-2">
                            <li><strong>현대자동차 자율주행</strong>: 한국의 현대자동차는 국내 도로에서 레벨3 자율주행 기술을 적용한 '넥쏘'와 'G90'를 통해 커넥티드 카 생태계 구축 중</li>
                            <li><strong>네이버 로보틱스</strong>: 네이버의 자율주행 로봇 '어라운드'는 판교 제2테크노밸리 상가에서 배달 서비스를 제공하며 물리적 네트워크 확장</li>
                            <li><strong>스마트시티 세종</strong>: 한국의 세종 스마트시티는 자율주행 버스, IoT 센서, 5G 네트워크로 연결된 도시 인프라 구현 중</li>
                        </ul>
                        <div class="mt-6">
                            <button class="openai-challenge-btn bg-[#20C997] text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-[#17a277] transition-colors mt-auto w-full" data-challenge="초연결 AI 시대의 경제적 영향">✨ AI 분석 요청하기</button>
                        </div>
                    </div>
                    
                    <div class="bg-[#F8F9FA] p-6 rounded-lg border border-[#CED4DA]">
                        <h4 class="text-xl font-semibold text-[#0A58CA] mb-4 flex items-center">
                            <span class="mr-2 text-2xl">🔄</span>지식 그래프와 추론 시스템
                        </h4>
                        <p class="text-[#343A40] mb-4">방대한 정보를 연결하여 의미를 도출하는 지식 그래프는 경제적 의사결정에 혁신을 가져옵니다.</p>
                        <ul class="list-disc list-inside text-[#343A40] space-y-2 ml-2">
                            <li><strong>신한은행 AI 상담사</strong>: 금융 지식 그래프 기반 AI '신한 에이루'는 고객의 금융 패턴을 분석해 맞춤형 상품 추천</li>
                            <li><strong>삼성 브레인</strong>: 삼성전자의 AI 연구소에서 개발 중인 지식 그래프 시스템은 제품 개발과 공급망 최적화에 활용</li>
                            <li><strong>SKT 지식 네트워크</strong>: SK텔레콤의 NUGU 플랫폼은 방대한 지식 그래프를 통해 복잡한 사용자 의도 파악 및 추론</li>
                        </ul>
                        <div class="mt-6">
                            <button class="openai-challenge-btn bg-[#20C997] text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-[#17a277] transition-colors mt-auto w-full" data-challenge="지식 그래프의 경제적 활용">✨ AI 분석 요청하기</button>
                        </div>
                    </div>
                    
                    <div class="bg-[#F8F9FA] p-6 rounded-lg border border-[#CED4DA]">
                        <h4 class="text-xl font-semibold text-[#0A58CA] mb-4 flex items-center">
                            <span class="mr-2 text-2xl">🌐</span>네트워크 기반 신경제 모델
                        </h4>
                        <p class="text-[#343A40] mb-4">AI와 네트워크 기술의 결합은 새로운 경제 모델과 비즈니스 기회를 창출합니다.</p>
                        <ul class="list-disc list-inside text-[#343A40] space-y-2 ml-2">
                            <li><strong>카카오 AI 생태계</strong>: 카카오의 AI 플랫폼은 카카오택시, 카카오페이, 카카오뱅크 등 다양한 서비스를 연결해 초개인화 서비스 제공</li>
                            <li><strong>네이버 쇼핑 라이브</strong>: 네이버의 AI 추천 시스템은 사용자 행동 패턴을 분석해 맞춤형 상품 추천 및 라이브커머스 연결</li>
                            <li><strong>현대카드 DIVE</strong>: 현대카드의 빅데이터 분석 플랫폼은 소비 패턴을 네트워크로 분석해 새로운 금융 상품 개발</li>
                        </ul>
                        <div class="mt-6">
                            <button class="openai-challenge-btn bg-[#20C997] text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-[#17a277] transition-colors mt-auto w-full" data-challenge="AI 네트워크 경제의 미래">✨ AI 분석 요청하기</button>
                        </div>
                    </div>
                </div>
                
                <div class="p-5 bg-gradient-to-r from-[#E7F1FF] to-[#F0FDF4] rounded-lg border border-[#CED4DA]">
                    <h4 class="text-xl font-semibold text-[#0A58CA] mb-3 text-center">AI-네트워크 융합의 경제적 의미</h4>
                    <p class="text-[#343A40]">초연결 AI 시대의 네트워크는 단순한 연결을 넘어 지능형 연결로 진화하고 있습니다. 이는 경제 구조의 근본적 변화를 의미합니다. 기업들이 데이터를 단순히 수집하는 것을 넘어 데이터 간의 관계와 의미를 파악하는 '지식 네트워크'를 구축하는 것이 경쟁력의 핵심이 될 것입니다. 한국 기업들은 높은 네트워크 인프라와 AI 기술을 바탕으로 글로벌 시장에서 새로운 기회를 모색하고 있습니다.</p>
                </div>
            </div>
        </section>

        <section id="conclusion" class="mb-8">
            <div class="bg-gradient-to-r from-[#0D6EFD] to-[#20C997] text-white rounded-xl shadow-lg p-6 md:p-10 text-center">
                <h2 class="text-3xl font-bold mb-6">5. 결론: 미래 경제와 네트워크 💡</h2>
                <p class="text-lg mb-4 leading-relaxed">네트워크는 경제 주체의 상호작용과 시장 작동 방식을 이해하는 필수 도구입니다. 디지털 전환 시대, 네트워크적 사고는 미래 경제를 읽는 열쇠입니다.</p>
                <p class="text-xl font-semibold">네트워크를 이해하고, 미래를 준비하세요!</p>
            </div>
        </section>

        <footer class="text-center pt-8 pb-4">
            <p class="text-sm text-[#6C757D]">&copy; <span id="currentYear"></span> 네트워크 기초 개념 인포그래픽. 경제학도 학습자료.</p>
        </footer>
    </div>

    <div id="openaiModal" class="modal">
        <div class="modal-content">
            <span class="modal-close-button" id="modalCloseButton">&times;</span>
            <h3 id="openaiModalTitle" class="text-2xl font-semibold text-[#0A58CA] mb-4">AI의 답변</h3>
            <div id="openaiModalBody" class="text-[#343A40] leading-relaxed">
                <div class="loader"></div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Check API key on page load
        (function checkApiKey() {
            const apiKeyStatus = document.getElementById('apiKeyStatus');
            const apiKey = localStorage.getItem('openai_api_key');
            
            if (apiKeyStatus) {
                if (apiKey) {
                    apiKeyStatus.textContent = '(API 키가 설정되어 있습니다)';
                    apiKeyStatus.classList.add('text-[#198754]');
                } else {
                    apiKeyStatus.textContent = '(API 키가 설정되어 있지 않습니다)';
                    apiKeyStatus.classList.add('text-[#dc3545]');
                }
            }
        })();

        // API Key Management
        document.getElementById('manageApiKey').addEventListener('click', function() {
            const currentKey = localStorage.getItem('openai_api_key') || '';
            const action = confirm('OpenAI API 키를 관리합니다.\n\n현재 상태: ' + 
                (currentKey ? '설정됨' : '설정되지 않음') + 
                '\n\n• 확인(OK) - 새 API 키 입력\n• 취소(Cancel) - API 키 삭제');
            
            if (action) {
                // Set new API key
                const newKey = window.prompt('OpenAI API 키를 입력하세요:', currentKey);
                if (newKey) {
                    localStorage.setItem('openai_api_key', newKey);
                    document.getElementById('apiKeyStatus').textContent = '(API 키가 업데이트되었습니다)';
                    document.getElementById('apiKeyStatus').classList.remove('text-[#dc3545]');
                    document.getElementById('apiKeyStatus').classList.add('text-[#198754]');
                }
            } else if (action === false) {
                // Clear API key
                if (confirm('API 키를 삭제하시겠습니까?')) {
                    localStorage.removeItem('openai_api_key');
                    document.getElementById('apiKeyStatus').textContent = '(API 키가 삭제되었습니다)';
                    document.getElementById('apiKeyStatus').classList.remove('text-[#198754]');
                    document.getElementById('apiKeyStatus').classList.add('text-[#dc3545]');
                }
            }
        });

        function wrapLabel(str, maxWidth) {
            if (!str) return '';
            if (str.length <= maxWidth) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];
            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + words[i].length + 1 <= maxWidth) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        const commonTooltipTitleCallback = function(tooltipItems) {
            const item = tooltipItems[0];
            if (!item || !item.chart || !item.chart.data || !item.chart.data.labels) return '';
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
              return label.join(' ');
            }
            return label;
        };

        const commonChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    labels: {
                        font: { size: 12, family: 'Noto Sans KR' },
                        color: '#343A40'
                    }
                },
                tooltip: {
                    titleFont: { family: 'Noto Sans KR', size: 14 },
                    bodyFont: { family: 'Noto Sans KR', size: 12 },
                    callbacks: {
                        title: commonTooltipTitleCallback
                    }
                }
            },
            scales: {
                y: {
                    ticks: { color: '#6C757D', font: { family: 'Noto Sans KR' } },
                    grid: { color: '#E0E0E0' }
                },
                x: {
                    ticks: { color: '#6C757D', font: { family: 'Noto Sans KR' } },
                    grid: { display: false }
                }
            }
        };
        
        const networkEffectsCtx = document.getElementById('networkEffectsChart');
        if (networkEffectsCtx) {
            new Chart(networkEffectsCtx, {
                type: 'doughnut',
                data: {
                    labels: [wrapLabel('적은 사용자 시 가치', 16), wrapLabel('많은 사용자 시 가치', 16)],
                    datasets: [{
                        label: '네트워크 가치',
                        data: [30, 70],
                        backgroundColor: ['#20C997', '#0D6EFD'],
                        borderColor: ['#FFFFFF'],
                        borderWidth: 2
                    }]
                },
                options: { ...commonChartOptions, plugins: { ...commonChartOptions.plugins, legend: { ...commonChartOptions.plugins.legend, position: 'bottom' } } }
            });
        }

        const metcalfeLawCtx = document.getElementById('metcalfeLawChart');
        if (metcalfeLawCtx) {
            new Chart(metcalfeLawCtx, {
                type: 'bar',
                data: {
                    labels: [wrapLabel('N = 5명', 16), wrapLabel('N = 10명', 16), wrapLabel('N = 15명', 16)],
                    datasets: [
                        {
                            label: '사용자 수 (N)',
                            data: [5, 10, 15],
                            backgroundColor: '#20C997',
                            borderColor: '#157347',
                            borderWidth: 1
                        },
                        {
                            label: '네트워크 가치 (N²)',
                            data: [25, 100, 225],
                            backgroundColor: '#0D6EFD',
                            borderColor: '#0A58CA',
                            borderWidth: 1
                        }
                    ]
                },
                options: { ...commonChartOptions, plugins: { ...commonChartOptions.plugins, legend: { ...commonChartOptions.plugins.legend, position: 'top' } } }
            });
        }

        const openaiModal = document.getElementById('openaiModal');
        const openaiModalTitle = document.getElementById('openaiModalTitle');
        const openaiModalBody = document.getElementById('openaiModalBody');
        const modalCloseButton = document.getElementById('modalCloseButton');
        const termInput = document.getElementById('termInput');
        const explainTermButton = document.getElementById('explainTermButton');
        const challengeButtons = document.querySelectorAll('.openai-challenge-btn');

        function openModal(title) {
            openaiModalTitle.textContent = title;
            openaiModalBody.innerHTML = '<div class="loader"></div>';
            openaiModal.style.display = 'flex';
        }

        function closeModal() {
            openaiModal.style.display = 'none';
            openaiModalBody.innerHTML = '';
        }

        modalCloseButton.onclick = closeModal;
        window.onclick = function(event) {
            if (event.target == openaiModal) {
                closeModal();
            }
        }

        async function callOpenaiAPI(promptText) {
            console.log("API 요청 시작...");
            // Try to get API key from storage first
            let apiKey = localStorage.getItem('openai_api_key');
            
            // If no key is stored, prompt the user
            if (!apiKey) {
                console.log("API 키 입력 요청 중...");
                apiKey = window.prompt("OpenAI API 키를 입력해주세요:", "");
                if (apiKey) {
                    console.log("API 키 저장 중...");
                    // Save the key for future use in this session
                    localStorage.setItem('openai_api_key', apiKey);
                } else {
                    console.log("API 키 입력이 취소되었습니다.");
                    return "API 키가 입력되지 않았습니다. API 키가 필요합니다.";
                }
            }
            
            const MODEL = "gpt-4o-mini";
            const apiUrl = "https://api.openai.com/v1/chat/completions";
            
            openaiModalBody.innerHTML = `
                <div class="loader"></div>
                <p class="text-center mt-4 text-[#6C757D]">응답을 기다리는 중...</p>
                <p class="text-center mt-2 text-xs text-[#6C757D]">(최대 30초 소요)</p>
                <button id="cancelRequest" class="mt-4 mx-auto block bg-[#dc3545] text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-[#bb2d3b] transition-colors">요청 취소</button>
            `;
            
            // Add cancel request functionality
            const cancelRequestBtn = document.getElementById('cancelRequest');
            const controller = new AbortController();
            if (cancelRequestBtn) {
                cancelRequestBtn.addEventListener('click', () => {
                    controller.abort();
                    openaiModalBody.innerHTML = "요청이 취소되었습니다.";
                });
            }
            
            const payload = {
                model: MODEL,
                messages: [
                    {
                        role: "user",
                        content: promptText
                    }
                ],
                temperature: 0.7
            };

            console.log("OpenAI API 호출 준비 완료");
            
            try {
                // Add timeout for fetch
                const timeoutId = setTimeout(() => controller.abort(), 30000); // 30 second timeout
                
                console.log("API 호출 시작...");
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify(payload),
                    signal: controller.signal
                });
                
                clearTimeout(timeoutId);
                console.log("API 응답 수신 완료");
                
                if (!response.ok) {
                    const errorData = await response.json();
                    console.error('API Error:', errorData);
                    
                    // If unauthorized, clear the stored key and ask again
                    if (response.status === 401) {
                        console.log("인증 오류 발생, API 키 삭제");
                        localStorage.removeItem('openai_api_key');
                        return "API 키가 유효하지 않습니다. 페이지를 새로고침하고 올바른 API 키를 입력해주세요.";
                    }
                    
                    return `API 요청에 실패했습니다. 상태 코드: ${response.status}. ${errorData.error?.message || '자세한 오류는 콘솔을 확인하세요.'}`;
                }
                
                const result = await response.json();
                console.log("API 결과 처리 완료");
                
                if (result.choices && result.choices.length > 0 &&
                    result.choices[0].message && result.choices[0].message.content) {
                    return result.choices[0].message.content.replace(/\n/g, '<br>');
                } else {
                    console.error('Unexpected API response structure:', result);
                    return "AI로부터 유효한 답변을 받지 못했습니다. 응답 구조를 확인해주세요.";
                }
            } catch (error) {
                console.error('Fetch Error:', error);
                if (error.name === 'AbortError') {
                    return "요청 시간이 초과되었습니다. 나중에 다시 시도해주세요.";
                }
                return "AI 요청 중 오류가 발생했습니다: " + error.message;
            }
        }

        if (explainTermButton) {
            explainTermButton.addEventListener('click', async () => {
                const term = termInput.value.trim();
                if (!term) {
                    alert("설명을 요청할 용어를 입력해주세요.");
                    return;
                }
                openModal(`'${term}'에 대한 AI 설명 ✨`);
                const promptText = `다음 네트워크 용어 '${term}'에 대해 경제학을 공부하는 대학생이 이해하기 쉽게 설명해주세요. 핵심만 간결하게 알려주세요.`;
                const explanation = await callOpenaiAPI(promptText);
                openaiModalBody.innerHTML = explanation;
            });
        }

        challengeButtons.forEach(button => {
            button.addEventListener('click', async () => {
                const challenge = button.dataset.challenge;
                openModal(`'${challenge}' 해결을 위한 AI 아이디어 ✨`);
                const promptText = `네트워크의 '${challenge}' 문제에 대해 경제학적 관점에서 가능한 해결 방안이나 정책 아이디어를 3가지 정도 간결하게 제시해주세요. 각 아이디어는 짧은 설명과 함께 불릿 포인트 형태로 알려주세요.`;
                const ideas = await callOpenaiAPI(promptText);
                openaiModalBody.innerHTML = ideas;
            });
        });

        // Add click handler for small world expandable content
        document.getElementById('expandSmallWorld').addEventListener('click', function() {
            const content = document.getElementById('smallWorldContent');
            const buttonText = document.getElementById('expandButtonText');
            const expandIcon = document.getElementById('expandIcon');
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                buttonText.textContent = '경제/금융에서의 작은 세계 현상 접기';
                expandIcon.textContent = '▲';
            } else {
                content.classList.add('hidden');
                buttonText.textContent = '경제/금융에서의 작은 세계 현상 자세히 보기';
                expandIcon.textContent = '▼';
            }
        });
        
        // Add click handler for network structure expandable content
        document.getElementById('expandNetworkStructure').addEventListener('click', function() {
            const content = document.getElementById('networkStructureContent');
            const buttonText = document.getElementById('networkExpandButtonText');
            const expandIcon = document.getElementById('networkExpandIcon');
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                buttonText.textContent = '경제에서의 네트워크 구조 유형 접기';
                expandIcon.textContent = '▲';
            } else {
                content.classList.add('hidden');
                buttonText.textContent = '경제에서의 네트워크 구조 유형 자세히 보기';
                expandIcon.textContent = '▼';
            }
        });

    </script>
</body>
</html>
