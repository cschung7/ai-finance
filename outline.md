# 경제학 전공 학생을 위한 네트워크 분석 웹앱 개발 계획

## 프로젝트 설정 및 환경 구성
- [x] 프로젝트 디렉토리 구조 생성
- [x] React 프론트엔드 초기화 (TypeScript 템플릿)
- [x] Flask 백엔드 초기화
- [x] 필요한 추가 패키지 설치 (NetworkX, Tailwind CSS 등)

## 프론트엔드 구현 (React, TypeScript, Tailwind CSS)
- [x] 기본 레이아웃 및 네비게이션 바 구현
- [x] 네트워크 유형 선택 컴포넌트 구현
- [x] 파라미터 설정 UI 구현
- [x] 네트워크 시각화 영역 구현
- [x] 네트워크 설명 섹션 구현
- [x] Python 코드 편집기 컴포넌트 구현
- [x] OpenAI 챗 인터페이스 구현
- [x] 반응형 디자인 적용

## 백엔드 구현 (Flask, NetworkX)
- [x] Flask 애플리케이션 기본 구조 설정
- [x] NetworkX 통합 및 기본 네트워크 분석 기능 구현
- [x] 네트워크 생성 및 분석 API 엔드포인트 구현
- [x] Python 코드 실행 API 구현
- [x] OpenAI API 연동 엔드포인트 구현
- [x] CORS 설정 및 보안 구성

## Python 플레이그라운드 및 네트워크 시각화 통합
- [x] 코드 편집기 기능 구현
- [x] 코드 실행 및 결과 표시 기능 구현
- [x] 네트워크 시각화 렌더링 구현
- [x] 노드 크기 조절 기능 구현
- [x] 노드 색상 설정 기능 구현
- [x] 네트워크 레이아웃 변경 기능 구현
- [x] 네트워크 지표 계산 및 표시 기능 구현

## OpenAI 챗 통합
- [x] API 키 입력 및 관리 기능 구현
- [x] 채팅 인터페이스 구현
- [x] 메시지 전송 및 응답 표시 기능 구현
- [x] 이미지 첨부 기능 구현
- [x] 코드 질문 및 생성 기능 구현

## 기능 검증 및 테스트
- [x] 모든 기능이 청사진 요구사항과 일치하는지 검증
- [x] 사용자 인터페이스 테스트
- [x] 네트워크 분석 기능 테스트
- [x] Python 코드 실행 테스트
- [x] OpenAI 챗 기능 테스트
- [x] 반응형 디자인 테스트

## 개발 진행 상황 보고
- [x] 개발 완료된 기능 목록 작성
- [ ] 스크린샷 및 데모 준비
- [ ] 사용자에게 개발 진행 상황 보고


---
# Webapp interactive 
# 네트워크 분석 웹앱 인터랙티브 기능 상세 설계

## Python 플레이그라운드 상세 설계

Python 플레이그라운드는 경제학 전공 학생들이 NetworkX 라이브러리를 직접 사용해볼 수 있는 핵심 기능입니다. 이 기능은 단순한 코드 편집기를 넘어 경제학적 맥락에서 네트워크 분석을 실습할 수 있는 통합 환경을 제공합니다.

### 코드 편집기 구성

```
+------------------------------------------+
|  # NetworkX 코드 편집기                   |
|                                          |
|  import networkx as nx                   |
|  import matplotlib.pyplot as plt         |
|  import numpy as np                      |
|                                          |
|  # 네트워크 생성                          |
|  G = nx.Graph()                          |
|                                          |
|  # 코드 작성 영역...                      |
|                                          |
+------------------------------------------+
|  [실행]  [저장]  [예제 불러오기]  [초기화]  |
+------------------------------------------+
|                                          |
|        [결과 출력 및 시각화 영역]          |
|                                          |
+------------------------------------------+
```

### 주요 인터랙티브 기능

1. **노드 크기 조절 기능**
   
   사용자가 네트워크의 노드 크기를 다양한 중심성 지표에 따라 조절할 수 있습니다. 드롭다운 메뉴를 통해 다음 옵션을 선택할 수 있습니다:
   
   - 연결 중심성 (Degree Centrality)
   - 매개 중심성 (Betweenness Centrality)
   - 근접 중심성 (Closeness Centrality)
   - 고유벡터 중심성 (Eigenvector Centrality)
   
   선택한 중심성 지표에 따라 노드 크기가 자동으로 조정되며, 이에 대한 경제학적 해석이 함께 제공됩니다. 예를 들어, 금융 네트워크에서 연결 중심성이 높은 노드는 시스템적으로 중요한 금융 기관을 나타낼 수 있으며, 이는 "대마불사(too big to fail)" 개념과 연결됩니다.

   ```python
   # 연결 중심성에 따른 노드 크기 조절 예제 코드
   degree_centrality = nx.degree_centrality(G)
   node_sizes = [5000 * degree_centrality[node] for node in G.nodes()]
   
   nx.draw(G, node_size=node_sizes)
   ```

2. **노드 색상 설정 기능**
   
   사용자가 네트워크의 노드 색상을 다양한 기준에 따라 설정할 수 있습니다:
   
   - 커뮤니티 탐지 알고리즘 결과 (Louvain, Girvan-Newman 등)
   - 노드 속성 (산업 분류, 지역 등)
   - 중심성 지표 범위 (상위 10%, 중간 40%, 하위 50% 등)
   
   색상 설정은 경제 네트워크의 구조적 특성을 시각적으로 이해하는 데 도움을 줍니다. 예를 들어, 산업 간 네트워크에서 같은 색상의 노드 그룹은 경제적 충격에 유사하게 반응할 가능성이 높은 산업 클러스터를 나타낼 수 있습니다.

   ```python
   # 커뮤니티 탐지에 따른 노드 색상 설정 예제 코드
   from community import community_louvain
   
   partition = community_louvain.best_partition(G)
   colors = [partition[node] for node in G.nodes()]
   
   nx.draw(G, node_color=colors, cmap=plt.cm.rainbow)
   ```

3. **엣지 특성 조절 기능**
   
   사용자가 네트워크의 엣지(연결선) 특성을 조절할 수 있습니다:
   
   - 엣지 두께: 상관계수 또는 인과관계 강도에 비례
   - 엣지 색상: 양/음의 상관관계 구분 또는 인과관계 방향 표시
   - 엣지 스타일: 실선(직접 연결), 점선(간접 연결) 등
   
   이러한 시각화는 경제 변수 간의 관계 강도와 방향을 직관적으로 이해하는 데 도움을 줍니다. 예를 들어, 금리와 주가 간의 음의 상관관계는 빨간색 엣지로, 금리와 환율 간의 양의 상관관계는 파란색 엣지로 표현할 수 있습니다.

   ```python
   # 상관계수에 따른 엣지 두께 및 색상 설정 예제 코드
   edge_weights = nx.get_edge_attributes(G, 'weight')
   
   # 엣지 두께 설정
   widths = [abs(edge_weights[(u, v)]) * 5 for u, v in G.edges()]
   
   # 엣지 색상 설정 (양의 값: 파란색, 음의 값: 빨간색)
   colors = ['blue' if edge_weights[(u, v)] > 0 else 'red' for u, v in G.edges()]
   
   nx.draw(G, width=widths, edge_color=colors)
   ```

4. **네트워크 레이아웃 변경 기능**
   
   사용자가 네트워크 시각화의 레이아웃을 변경할 수 있습니다:
   
   - Spring 레이아웃: 물리적 힘 모델 기반 (기본값)
   - Circular 레이아웃: 원형 배치
   - Kamada-Kawai 레이아웃: 에너지 최소화 기반
   - Spectral 레이아웃: 그래프 라플라시안 고유벡터 기반
   
   다양한 레이아웃은 네트워크의 다른 구조적 특성을 강조합니다. 예를 들어, 원형 레이아웃은 모든 노드를 동등하게 표현하여 중심-주변부 구조보다는 전체적인 연결 패턴을 파악하는 데 유용합니다.

   ```python
   # 다양한 레이아웃 적용 예제 코드
   # Spring 레이아웃
   pos_spring = nx.spring_layout(G)
   
   # Circular 레이아웃
   pos_circular = nx.circular_layout(G)
   
   # Kamada-Kawai 레이아웃
   pos_kamada = nx.kamada_kawai_layout(G)
   
   # 선택한 레이아웃으로 그리기
   nx.draw(G, pos=pos_spring)  # 또는 pos_circular, pos_kamada
   ```

5. **네트워크 지표 계산 및 해석 기능**
   
   사용자가 네트워크의 다양한 통계적 지표를 계산하고 경제학적으로 해석할 수 있습니다:
   
   - 네트워크 밀도: 가능한 모든 연결 중 실제 연결의 비율
   - 평균 경로 길이: 임의의 두 노드 간 최단 경로의 평균 길이
   - 클러스터링 계수: 노드 이웃들 간의 연결 정도
   - 중심화 지수: 네트워크의 중앙 집중도
   
   이러한 지표들은 경제 네트워크의 구조적 특성을 정량화하고, 시스템 리스크, 정보 전파 속도, 시장 효율성 등의 경제적 함의를 이해하는 데 도움을 줍니다.

   ```python
   # 네트워크 지표 계산 예제 코드
   # 네트워크 밀도
   density = nx.density(G)
   print(f"네트워크 밀도: {density:.4f}")
   
   # 평균 경로 길이
   if nx.is_connected(G):
       avg_path_length = nx.average_shortest_path_length(G)
       print(f"평균 경로 길이: {avg_path_length:.4f}")
   
   # 클러스터링 계수
   clustering = nx.average_clustering(G)
   print(f"평균 클러스터링 계수: {clustering:.4f}")
   ```

## OpenAI 챗 통합 상세 설계

OpenAI 챗 통합 기능은 학생들이 네트워크 분석과 관련된 질문을 하고, 코드 작성 도움을 받을 수 있는 AI 도우미를 제공합니다.

### 사용자 인터페이스 구성

```
+------------------------------------------+
|  OpenAI 챗 도우미                        |
+------------------------------------------+
|  API 키: [                         ]     |
|  [연결]                                  |
+------------------------------------------+
|                                          |
|  AI: 안녕하세요! 네트워크 분석에 관한     |
|      질문이 있으신가요?                   |
|                                          |
|  사용자: 이 네트워크에서 가장 중요한      |
|         노드를 찾는 코드를 작성해주세요   |
|                                          |
|  AI: 네트워크에서 가장 중요한 노드를      |
|      찾기 위해 중심성 지표를 사용할       |
|      수 있습니다. 다음은 연결 중심성,     |
|      매개 중심성, 고유벡터 중심성을       |
|      계산하는 코드입니다...               |
|                                          |
+------------------------------------------+
|  메시지 입력: [                      ]   |
|  [파일 첨부]  [전송]                     |
+------------------------------------------+
```

### 주요 기능

1. **API 키 관리**
   
   사용자가 자신의 OpenAI API 키를 입력하고 저장할 수 있습니다. API 키는 클라이언트 측에서만 임시로 저장되며, 세션이 종료되면 삭제됩니다. 보안을 위해 서버에 저장되지 않습니다.

2. **코드 질문 및 생성**
   
   사용자가 NetworkX를 활용한 코드 작성에 관한 질문을 할 수 있습니다:
   
   - "상관관계 네트워크를 생성하는 코드를 작성해주세요."
   - "이 네트워크에서 중심성이 가장 높은 노드를 찾는 방법은?"
   - "커뮤니티 탐지 알고리즘을 적용하는 코드를 보여주세요."
   
   AI는 질문에 맞는 Python 코드를 생성하고, 코드의 각 부분에 대한 설명을 함께 제공합니다.

3. **이미지 첨부 및 분석**
   
   사용자가 네트워크 이미지를 첨부하고 관련 질문을 할 수 있습니다:
   
   - "첨부한 이미지와 같은 네트워크를 생성하는 코드를 작성해주세요."
   - "이 네트워크 이미지에서 볼 수 있는 주요 특징은 무엇인가요?"
   - "이 네트워크 구조가 경제학적으로 어떤 의미를 갖나요?"
   
   AI는 이미지를 분석하고, 유사한 네트워크를 생성하는 코드를 제안하거나 네트워크의 특징과 경제학적 의미를 설명합니다.

4. **경제학적 개념 설명**
   
   사용자가 네트워크 분석과 관련된 경제학적 개념에 대해 질문할 수 있습니다:
   
   - "네트워크 외부성이란 무엇이며 경제학에서 어떤 의미가 있나요?"
   - "금융 네트워크에서 시스템적 리스크는 어떻게 측정되나요?"
   - "노동 시장 네트워크 분석이 실업률 예측에 어떻게 활용될 수 있나요?"
   
   AI는 경제학적 개념을 쉽고 직관적으로 설명하고, 관련된 연구 사례나 응용 예시를 제공합니다.

5. **코드 디버깅 및 개선**
   
   사용자가 작성한 코드에 대한 디버깅 도움이나 개선 제안을 요청할 수 있습니다:
   
   - "이 코드에서 오류가 발생하는 이유가 무엇인가요?"
   - "이 네트워크 시각화 코드를 더 효율적으로 개선할 수 있을까요?"
   - "이 코드의 실행 결과를 경제학적으로 어떻게 해석할 수 있나요?"
   
   AI는 코드의 문제점을 식별하고 수정 방법을 제안하거나, 코드 최적화 방안과 결과 해석을 제공합니다.

## 사용자 경험 흐름

1. **초기 학습 단계**
   
   사용자는 먼저 네트워크 분석의 기본 개념과 경제학적 의미를 학습합니다. 각 네트워크 유형(상관관계, 부분 상관관계, 그래인저 인과관계)에 대한 설명을 읽고 이해합니다.

2. **기본 네트워크 생성 단계**
   
   사용자는 UI에서 네트워크 유형을 선택하고 파라미터(상관관계 임계값 등)를 설정한 후 '네트워크 생성' 버튼을 클릭합니다. 시스템은 선택된 설정에 따라 네트워크를 생성하고 시각화합니다.

3. **네트워크 분석 및 시각화 단계**
   
   생성된 네트워크에 대해 사용자는 다양한 분석 도구를 적용할 수 있습니다:
   
   - 노드 크기 조절 (중심성 지표 기반)
   - 노드 색상 설정 (커뮤니티 또는 속성 기반)
   - 엣지 특성 조절 (관계 강도 또는 방향 표시)
   - 레이아웃 변경 (다양한 알고리즘 적용)
   
   각 변경 사항은 실시간으로 시각화에 반영되며, 관련된 경제학적 해석이 함께 제공됩니다.

4. **코드 실습 단계**
   
   사용자는 Python 코드 편집기에서 직접 코드를 작성하고 실행할 수 있습니다. 기본 템플릿이나 예제 코드를 활용하여 시작할 수 있으며, 코드 실행 결과는 즉시 시각화됩니다.

5. **AI 도움 요청 단계**
   
   사용자는 어려움을 겪거나 추가 정보가 필요할 때 OpenAI 챗 도우미에게 질문할 수 있습니다. API 키를 입력하고 연결한 후, 코드 작성 도움, 개념 설명, 결과 해석 등을 요청할 수 있습니다.

6. **프로젝트 적용 단계**
   
   학습한 내용과 기술을 바탕으로 사용자는 자신의 경제학 프로젝트나 연구에 네트워크 분석을 적용할 수 있습니다. 생성된 코드와 시각화를 저장하고 활용할 수 있습니다.

이러한 인터랙티브 기능과 사용자 경험 흐름은 경제학 전공 학생들이 네트워크 이론을 직관적으로 이해하고, Python과 NetworkX를 활용한 실습을 통해 데이터 분석 역량을 키울 수 있도록 설계되었습니다.

